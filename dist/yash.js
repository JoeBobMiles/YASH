!function(t){var o={};function e(i){if(o[i])return o[i].exports;var r=o[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,e),r.l=!0,r.exports}e.m=t,e.c=o,e.d=function(t,o,i){e.o(t,o)||Object.defineProperty(t,o,{enumerable:!0,get:i})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,o){if(1&o&&(t=e(t)),8&o)return t;if(4&o&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(e.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&o&&"string"!=typeof t)for(var r in t)e.d(i,r,function(o){return t[o]}.bind(null,r));return i},e.n=function(t){var o=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(o,"a",o),o},e.o=function(t,o){return Object.prototype.hasOwnProperty.call(t,o)},e.p="",e(e.s=0)}([function(t,o){var e;!function(t){t.ABSOLUTE=!1,t.RELATIVE=!0;var o=function(){function t(t,o){void 0===t&&(t=""),void 0===o&&(o=[]),this.selector="",this.elements=[],this.selector=t,this.elements=o}return t.prototype.add=function(t){return this.elements.push(t),this},t.prototype.render=function(){var t=document.querySelectorAll(this.selector)[0];this.elements.forEach((function(o){return t.appendChild(o.toXML())}))},t}();t.SVG=o;var e=function(){function o(o,e){void 0===o&&(o=""),void 0===e&&(e=t.ABSOLUTE),this.pathString="",this.relative=t.ABSOLUTE,this.fillColor="black",this.strokeColor="none",this.strokeWidth=1,this.pathString=o,this.relative=e}return o.prototype.toXML=function(){var t=document.createElementNS("http://www.w3.org/2000/svg","path");return t.setAttribute("d",this.pathString),t.setAttribute("fill",this.fillColor),t.setAttribute("stroke",this.strokeColor),t.setAttribute("stroke-width",this.strokeWidth.toString()),t},o.prototype.addCommand=function(t,o,e){e||(t=t.toUpperCase()),this.pathString+=null!=o?t+" "+o+" ":t},o.prototype.moveTo=function(t,o,e){return void 0===e&&(e=this.relative),this.addCommand("m",t+","+o,e),this},o.prototype.m=function(o,e){return this.moveTo(o,e,t.RELATIVE)},o.prototype.M=function(o,e){return this.moveTo(o,e,t.ABSOLUTE)},o.prototype.lineTo=function(t,o,e){return void 0===e&&(e=this.relative),this.addCommand("l",t+","+o,e),this},o.prototype.l=function(o,e){return this.lineTo(o,e,t.RELATIVE)},o.prototype.L=function(o,e){return this.lineTo(o,e,t.ABSOLUTE)},o.prototype.curveTo=function(t,o,e,i,r,n,s){return void 0===s&&(s=this.relative),this.addCommand("c",t+","+o+" "+e+","+i+" "+r+","+n,s),this},o.prototype.c=function(o,e,i,r,n,s){return this.curveTo(o,e,i,r,n,s,t.RELATIVE)},o.prototype.C=function(o,e,i,r,n,s){return this.curveTo(o,e,i,r,n,s,t.ABSOLUTE)},o.prototype.quadCurveTo=function(t,o,e,i,r){return void 0===r&&(r=this.relative),this.addCommand("q",t+","+o+" "+e+","+i,r),this},o.prototype.q=function(o,e,i,r){return this.quadCurveTo(o,e,i,r,t.RELATIVE)},o.prototype.Q=function(o,e,i,r){return this.quadCurveTo(o,e,i,r,t.ABSOLUTE)},o.prototype.cubicCurveTo=function(t,o,e){return void 0===e&&(e=this.relative),this.addCommand("t",t+","+o,e),this},o.prototype.t=function(o,e){return this.cubicCurveTo(o,e,t.RELATIVE)},o.prototype.T=function(o,e){return this.cubicCurveTo(o,e,t.ABSOLUTE)},o.prototype.close=function(){return this.addCommand("Z",null,!1),this},o.prototype.Z=function(){return this.close()},o.prototype.fill=function(t){return this.fillColor=t,this},o.prototype.stroke=function(t,o){return void 0===o&&(o=this.strokeWidth),this.strokeColor=t,this.strokeWidth=o,this},o.prototype.setStrokeWidth=function(t){return this.strokeWidth=t,this},o}();t.Path=e;var i=function(){this.family=[],this.color="",this.size="",this.weight="normal"},r=function(){function t(t,o,e,r){void 0===r&&(r=null),this.body="",this.x=0,this.y=0,this.textAnchor="",this.font=new i,this.body=t,this.x=o,this.y=e,this.font.family=r}return t.prototype.toXML=function(){var t=document.createElementNS("http://www.w3.org/2000/svg","text");return t.innerHTML=this.body,t.setAttribute("x",this.x.toString()),t.setAttribute("y",this.y.toString()),this.font.family&&t.setAttribute("font-family",this.font.family.join(",")),t.setAttribute("font-size",this.font.size),t.setAttribute("fill",this.font.color),t.setAttribute("font-weight",this.font.weight),t.setAttribute("text-anchor",this.textAnchor),t},t.prototype.setBody=function(t){return this.body=t,this},t.prototype.position=function(t,o){return this.x=t,this.y=o,this},t.prototype.fonts=function(t){return this.font.family=t,this},t.prototype.color=function(t){return this.font.color=t,this},t.prototype.size=function(t){return this.font.size="number"==typeof t?t.toString():t,this},t.prototype.weight=function(t){return this.font.weight="number"==typeof t?t.toString():t,this},t.prototype.anchor=function(t){return this.textAnchor=t,this},t}();t.Text=r}(e||(e={}))}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL3lhc2gudHMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJZQVNIIiwiQUJTT0xVVEUiLCJSRUxBVElWRSIsInNlbGVjdG9yIiwiZWxlbWVudHMiLCJ0aGlzIiwiYWRkIiwiZWxlbWVudCIsInB1c2giLCJyZW5kZXIiLCJzdmciLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJmb3JFYWNoIiwiZWxlbSIsImFwcGVuZENoaWxkIiwidG9YTUwiLCJTVkciLCJwYXRoU3RyaW5nIiwicmVsYXRpdmUiLCJmaWxsQ29sb3IiLCJzdHJva2VDb2xvciIsInN0cm9rZVdpZHRoIiwiY3JlYXRlRWxlbWVudE5TIiwic2V0QXR0cmlidXRlIiwidG9TdHJpbmciLCJhZGRDb21tYW5kIiwiY21kIiwiYXJncyIsInRvVXBwZXJDYXNlIiwibW92ZVRvIiwieCIsInkiLCJkeCIsImR5IiwiTSIsImxpbmVUbyIsIkwiLCJjdXJ2ZVRvIiwieDEiLCJ5MSIsIngyIiwieTIiLCJlbmRYIiwiZW5kWSIsImR4MSIsImR5MSIsImR4MiIsImR5MiIsImVuZERYIiwiZW5kRFkiLCJDIiwicXVhZEN1cnZlVG8iLCJxIiwiUSIsImN1YmljQ3VydmVUbyIsIlQiLCJjbG9zZSIsIloiLCJmaWxsIiwic3Ryb2tlIiwic2V0U3Ryb2tlV2lkdGgiLCJQYXRoIiwiZmFtaWx5IiwiY29sb3IiLCJzaXplIiwid2VpZ2h0IiwiYm9keSIsImZvbnRzIiwidGV4dEFuY2hvciIsImZvbnQiLCJGb250IiwiaW5uZXJIVE1MIiwiam9pbiIsInNldEJvZHkiLCJwb3NpdGlvbiIsImFuY2hvciIsIlRleHQiXSwibWFwcGluZ3MiOiJhQUNFLElBQUlBLEVBQW1CLEdBR3ZCLFNBQVNDLEVBQW9CQyxHQUc1QixHQUFHRixFQUFpQkUsR0FDbkIsT0FBT0YsRUFBaUJFLEdBQVVDLFFBR25DLElBQUlDLEVBQVNKLEVBQWlCRSxHQUFZLENBQ3pDRyxFQUFHSCxFQUNISSxHQUFHLEVBQ0hILFFBQVMsSUFVVixPQU5BSSxFQUFRTCxHQUFVTSxLQUFLSixFQUFPRCxRQUFTQyxFQUFRQSxFQUFPRCxRQUFTRixHQUcvREcsRUFBT0UsR0FBSSxFQUdKRixFQUFPRCxRQUtmRixFQUFvQlEsRUFBSUYsRUFHeEJOLEVBQW9CUyxFQUFJVixFQUd4QkMsRUFBb0JVLEVBQUksU0FBU1IsRUFBU1MsRUFBTUMsR0FDM0NaLEVBQW9CYSxFQUFFWCxFQUFTUyxJQUNsQ0csT0FBT0MsZUFBZWIsRUFBU1MsRUFBTSxDQUFFSyxZQUFZLEVBQU1DLElBQUtMLEtBS2hFWixFQUFvQmtCLEVBQUksU0FBU2hCLEdBQ1gsb0JBQVhpQixRQUEwQkEsT0FBT0MsYUFDMUNOLE9BQU9DLGVBQWViLEVBQVNpQixPQUFPQyxZQUFhLENBQUVDLE1BQU8sV0FFN0RQLE9BQU9DLGVBQWViLEVBQVMsYUFBYyxDQUFFbUIsT0FBTyxLQVF2RHJCLEVBQW9Cc0IsRUFBSSxTQUFTRCxFQUFPRSxHQUV2QyxHQURVLEVBQVBBLElBQVVGLEVBQVFyQixFQUFvQnFCLElBQy9CLEVBQVBFLEVBQVUsT0FBT0YsRUFDcEIsR0FBVyxFQUFQRSxHQUE4QixpQkFBVkYsR0FBc0JBLEdBQVNBLEVBQU1HLFdBQVksT0FBT0gsRUFDaEYsSUFBSUksRUFB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QXVFLE9BQVAsU0FBZUQsR0FHWCxPQUZBdEUsS0FBS2dFLFdBQWFNLEVBRVh0RSxNQUVmLEVBNUtBLEdBQWEsRUFBQXdFLEtBQUksRUFuZXJCLENBQVU3RSxNQUFJIiwiZmlsZSI6Inlhc2guanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMCk7XG4iLCIvLy8gQGZpbGUgeWFzaC50c1xyXG4vLy8gQGF1dGhvciBKb3NlcGggUiBNaWxlcyA8bWVAam9zZXBocm1pbGVzLmNvbT5cclxuLy8vIEBkYXRlIDIwMTktMTAtMTZcclxuLy8vXHJcbi8vLyBUaGlzIGlzIHRoZSBjb3JlIGZpbGUgZm9yIFlBU0ggKFlldCBBbm90aGVyIFNWRyBIZWxwZXIpLlxyXG5cclxubmFtZXNwYWNlIFlBU0gge1xyXG5cclxuICAgIC8qKiBAdHlwZSB7Ym9vbGVhbn0gQUJTT0xVVEUgPSBTVkcgZHJhd3Mgd2l0aCBhYnNvbHV0ZSBjb29yZGluYXRlcy4gKi9cclxuICAgIGV4cG9ydCBjb25zdCBBQlNPTFVURTogYm9vbGVhbiA9IGZhbHNlO1xyXG5cclxuICAgIC8qKiBAdHlwZSB7Ym9vbGVhbn0gUkVMQVRJVkUgPSBTVkcgZHJhd3Mgd2l0aCByZWxhdGl2ZSBjb29yZGluYXRlcy4gKi9cclxuICAgIGV4cG9ydCBjb25zdCBSRUxBVElWRTogYm9vbGVhbiA9IHRydWU7XHJcblxyXG5cclxuICAgIC8vLyBUaGlzIGNsYXNzIHJlcHJlc2VudHMgYSBTVkcgY2FudmFzIGluIHRoZSBET00uXHJcbiAgICBleHBvcnQgY2xhc3MgU1ZHIHtcclxuXHJcbiAgICAgICAgLyoqIEB0eXBlIHtzdHJpbmd9IFRoZSBzZWxlY3RvciB1c2VkIHRvIGZpbmQgdGhlIFNWRyBjYW52YXMgaW4gdGhlIERPTSAqL1xyXG4gICAgICAgIHByaXZhdGUgc2VsZWN0b3I6IHN0cmluZyA9IFwiXCI7XHJcblxyXG4gICAgICAgIC8qKiBAdHlwZSB7U1ZHRWxlbWVudFtdfSBUaGUgZWxlbWVudHMgdG8gcHV0IGluc2lkZSB0aGUgU1ZHIGNhbnZhcy4gKi9cclxuICAgICAgICBwcml2YXRlIGVsZW1lbnRzOiBTVkdFbGVtZW50W10gPSBbXTtcclxuXHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIENyZWF0ZXMgYSBuZXcgU1ZHIGluc3RhbmNlIHRoYXQgdXNlcyB0aGUgZ2l2ZW4gW3NlbGVjdG9yXSBhbmRcclxuICAgICAgICAgKiBbZWxlbWVudHNdLiBCeSBkZWZhdWx0LCB0aGUgW3NlbGVjdG9yXSB0YXJnZXRzIGFueSA8c3ZnPnMgcHJlc2VudCBpblxyXG4gICAgICAgICAqIHRoZSBkb2N1bWVudCwgYW5kIHRoZSBbZWxlbWVudHNdIGFycmF5IHN0YXJ0cyBhcyBlbXB0eS5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwYXJhbSAge3N0cmluZyAgICAgICA9IFwiXCJ9ICAgICAgICAgIHNlbGVjdG9yIEEgRE9NIHNlbGVjdG9yXHJcbiAgICAgICAgICogQHBhcmFtICB7U1ZHRWxlbWVudFtdID0gW119ICAgICAgICAgIGVsZW1lbnRzIEFuIGFycmF5IG9mIFNWR0VsZW1lbnRzLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHJldHVybiB7U1ZHfSAgICAgICAgICAgICAgIEEgbmV3IFNWRyBpbnN0YW5jZS5cclxuICAgICAgICAgKi9cclxuICAgICAgICBjb25zdHJ1Y3RvciAoc2VsZWN0b3I6IHN0cmluZyA9IFwiXCIsIGVsZW1lbnRzOiBTVkdFbGVtZW50W10gPSBbXSkge1xyXG4gICAgICAgICAgICB0aGlzLnNlbGVjdG9yID0gc2VsZWN0b3I7XHJcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudHMgPSBlbGVtZW50cztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEFkZHMgdGhlIGdpdmVuIFtlbGVtZW50XSB0byB0aGUgU1ZHJ3MgZWxlbWVudHMgYXJyYXkuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcGFyYW0gIHtTVkdFbGVtZW50fSBlbGVtZW50IEFuIFNWR0VsZW1lbnQuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcmV0dXJuIHtTVkd9ICAgICAgICAgICAgICAgIFRoZSBtb2RpZmllZCBTVkcgaW5zdGFuY2UuXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgYWRkIChlbGVtZW50OiBTVkdFbGVtZW50KTogU1ZHIHtcclxuICAgICAgICAgICAgdGhpcy5lbGVtZW50cy5wdXNoKGVsZW1lbnQpO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFB1Ymxpc2hlcyB0aGUgZWxlbWVudHMgY29udGFpbmQgaW4gdGhlIFNWRyBpbnN0YW5jZSB0byB0aGUgZmlyc3RcclxuICAgICAgICAgKiBlbGVtZW50IG1hdGNoaW5nIHRoZSBTVkcgaW5zdGFuY2UncyBzZWxlY3Rvci4gQkUgV0FSTkVELCBUSElTIERPRVNcclxuICAgICAgICAgKiBOT1QgVkFMSURBVEUgVEhBVCBzdmcgSVMgQSBTVkcgRE9NIEVMRU1FTlQhXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgcmVuZGVyICgpOiB2b2lkIHtcclxuICAgICAgICAgICAgY29uc3Qgc3ZnID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCh0aGlzLnNlbGVjdG9yKVswXTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudHMuZm9yRWFjaCgoZWxlbTogU1ZHRWxlbWVudCkgPT4gc3ZnLmFwcGVuZENoaWxkKGVsZW0udG9YTUwoKSkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLy8gVGhpcyBpcyB0aGUgaW50ZXJmYWNlIHRoYXQgZGVmaW5lcyB0aGUgY29tbW9uIGZ1bmN0aW9uYWxpdHkgcmVxdWlyZWRcclxuICAgIC8vLyBmcm9tIGFsbCBTVkcgZWxlbWVudHMuXHJcbiAgICBpbnRlcmZhY2UgU1ZHRWxlbWVudCB7XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEdlbmVyYXRlcyBhbiBYTUwgRWxlbWVudCBiYXNlZCBvbiB0aGUgaW5mb3JtYXRpb24gc3RvcmVkIGluIHRoZVxyXG4gICAgICAgICAqIFNWR0VsZW1lbnQgaW5zdGFuY2UuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcmV0dXJuIHtFbGVtZW50fSBBIFhNTCBFbGVtZW50IGluc3RhbmNlLlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRvWE1MICgpOiBFbGVtZW50O1xyXG5cclxuICAgIH1cclxuXHJcbiAgICAvLy8gVGhpcyBjbGFzcyByZXByZXNlbnRzIGEgUGF0aCBlbGVtZW50IGluIHRoZSBTVkcgZG9jdW1lbnQuXHJcbiAgICBleHBvcnQgY2xhc3MgUGF0aCBpbXBsZW1lbnRzIFNWR0VsZW1lbnQge1xyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBUaGUgc3RyaW5nIHRoYXQgY29udGFpbnMgdGhlIGluc3J1Y3Rpb25zIGZvciBkcmF3aW5nIHRoZSBQYXRoLlxyXG4gICAgICAgICAqIEB0eXBlIHtzdHJpbmd9XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgcHJpdmF0ZSBwYXRoU3RyaW5nOiBzdHJpbmcgPSBcIlwiO1xyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBUaGUgZGVmYXVsdCBjb29yZGluYXRlIG1vZGUgZm9yIHRoZSBQYXRoLiBUaGUgUGF0aCBkZWZhdWx0cyB0b1xyXG4gICAgICAgICAqIEFCU09MVVRFLCBidXQgY2FuIGhhdmUgdGhpcyBvdmVycmlkZGVuIGJ5OlxyXG4gICAgICAgICAqICAtIFBhc3NpbmcgUkVMQVRJVkUgdG8gdGhlIGNvbnN0cnVjdG9yLFxyXG4gICAgICAgICAqICAtIFBhc3NpbmcgUkVMQVRJVkUgdG8gdGhlIGRyYXdpbmcgZnVuY3Rpb25zIChpZiB0aGV5IGFjY2VwdFxyXG4gICAgICAgICAqICAgIGNvb3JkaW5hdGUgbW9kZSBhcyBhIHBhcmFtZXRlciksIG9yXHJcbiAgICAgICAgICogIC0gVXNpbmcgdGhlIHNob3J0LWhhbmQgZnVuY3Rpb25zLCB3aGljaCBzcGVjaWZ5IGNvb3JkaW5hdGUgbW9kZS5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEB0eXBlIHtib29sZWFufVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHByaXZhdGUgcmVsYXRpdmU6IGJvb2xlYW4gPSBBQlNPTFVURTtcclxuXHJcbiAgICAgICAgLyoqIEB0eXBlIHtzdHJpbmd9IFRoZSBmaWxsIGNvbG9yIGZvciB0aGUgUGF0aC4gKi9cclxuICAgICAgICBwcml2YXRlIGZpbGxDb2xvcjogc3RyaW5nID0gXCJibGFja1wiO1xyXG5cclxuICAgICAgICAvKiogQHR5cGUge3N0cmluZ30gVGhlIHN0cm9rZSBjb2xvciBmb3IgdGhlIFBhdGguICovXHJcbiAgICAgICAgcHJpdmF0ZSBzdHJva2VDb2xvcjogc3RyaW5nID0gXCJub25lXCI7XHJcblxyXG4gICAgICAgIC8qKiBAdHlwZSB7bnVtYmVyfSBUaGUgc3Ryb2tlIHdpZHRoIGZvciB0aGUgUGF0aC4gKi9cclxuICAgICAgICBwcml2YXRlIHN0cm9rZVdpZHRoOiBudW1iZXIgPSAxO1xyXG5cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQ3JlYXRlcyBhIFBhdGggaW5zdGFuY2UgdGhhdCBoYXMgdGhlIHNwZWNpZmllZCBbcGF0aFN0cmluZ10gYW5kXHJcbiAgICAgICAgICogY29vcmRpbmF0ZSBtb2RlLiBJZiBib3RoIGFyZSBub3Qgc3BlY2lmaWVkLCB0aGUgUGF0aCB3aWxsIGhhdmUgYW5cclxuICAgICAgICAgKiBlbXB0eSBbcGF0aFN0cmluZ10gYW5kIHdpbGwgdXNlIHRoZSBBQlNPTFVURSBjb29yZGluYXRlIG1vZGUuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcGFyYW0gIHtzdHJpbmcgID0gXCJcIn0gICAgICAgICAgcGF0aFN0cmluZyBTVkcgZHJhdyBjb21tYW5kIHN0cmluZy5cclxuICAgICAgICAgKiBAcGFyYW0gIHtib29sZWFuID0gQUJTT0xVVEV9ICAgIHJlbGF0aXZlICAgVGhlIGNvb3JkaW5hdGUgbW9kZSBvZiB0aGUgUGF0aC5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEByZXR1cm4ge1BhdGh9ICAgICAgICAgQSBuZXdseSBjcmVhdGVkIHBhdGggaW5zdGFuY2UuXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgY29uc3RydWN0b3IgKHBhdGhTdHJpbmc6IHN0cmluZyA9IFwiXCIsIHJlbGF0aXZlOiBib29sZWFuID0gQUJTT0xVVEUpIHtcclxuICAgICAgICAgICAgdGhpcy5wYXRoU3RyaW5nID0gcGF0aFN0cmluZztcclxuICAgICAgICAgICAgdGhpcy5yZWxhdGl2ZSA9IHJlbGF0aXZlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogVGFrZXMgdGhlIGluZm9ybWF0aW9uIGZyb20gdGhlIFBhdGggYW5kIGdlbmVyYXRlcyBhbiBFbGVtZW50IHRoYXQgY2FuXHJcbiAgICAgICAgICogYmUgYWRkZWQgdG8gdGhlIFNWRyBhbmQgcmVuZGVyZWQgYnkgdGhlIGJyb3dzZXIuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcmV0dXJuIHtFbGVtZW50fSBBIG5ld2x5IGNyZWF0ZWQgRWxlbWVudC5cclxuICAgICAgICAgKi9cclxuICAgICAgICB0b1hNTCAoKTogRWxlbWVudCB7XHJcbiAgICAgICAgICAgIC8vIG5vdGUoanJtKTogV2UgdXNlIGNyZWF0ZUVsZW1lbnROUygpIGhlcmUgd2l0aCB0aGUgXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiXHJcbiAgICAgICAgICAgIC8vIG5hbWVzcGFjZSBkdWUgdG8gU1ZHIGJlaW5nIGFuIFhNTCBmb3JtYXQgc2VwYXJhdGUgZnJvbSBIVE1MLiBUaGlzXHJcbiAgICAgICAgICAgIC8vIGNhdXNlZCBhIGdyZWF0IGRlYWwgb2YgY29uZnVzaW9uIGZvciBtZSBpbml0aWFsbHkgd2hlbiBJIHVzZWRcclxuICAgICAgICAgICAgLy8gY3JlYXRlRWxlbWVudCBhbmQgbm90aGluZyByZW5kZXJlZCBvbiB0aGUgc2NyZWVuLiBUaGUgcmVhc29uIHdoeVxyXG4gICAgICAgICAgICAvLyBpdCBkaWRuJ3Qgd29yayB3YXMgYmVjYXVzZSB3ZSB3ZXJlIGFkZGluZyBIVE1MIGVsZW1lbnRzIHRvIGFuIFhNTFxyXG4gICAgICAgICAgICAvLyBhcmVhLCBhbmQgZGVzcGl0ZSB0aGUgZmFjdCB0aGF0IHRoZXkgcmVuZGVyIHRoZSBzYW1lIGluIHRoZSBET00sXHJcbiAgICAgICAgICAgIC8vIHRoZSBicm93c2VyJ3MgcmVuZGVyaW5nIGVuZ2luZSBkaXNhbGxvd3MgdGhpcy4gSW4gdHJ1ZSB3ZWItXHJcbiAgICAgICAgICAgIC8vIHRlY2hub2xvZ3kgZmFzaGlvbiwgdGhlIGVycm9yIHdhcyBub3QgcmVwb3J0ZWQgdG8gdGhlIHVzZXIsIHNvIElcclxuICAgICAgICAgICAgLy8gaGFkIHJlc29ydCB0byB0aGUgZ29vZC1vbGQgSW50ZXJuZXQgdG8gZmlndXJlIHRoaXMgb25lIG91dDpcclxuICAgICAgICAgICAgLy8gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMTc1MjAzMzcvZHluYW1pY2FsbHktcmVuZGVyZWQtc3ZnLWlzLW5vdC1kaXNwbGF5aW5nXHJcbiAgICAgICAgICAgIC8vIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzgxNzMyMTcvY3JlYXRlZWxlbWVudC12cy1jcmVhdGVlbGVtZW50bnNcclxuICAgICAgICAgICAgbGV0IGVsZW1lbnQ6IEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInBhdGhcIik7XHJcblxyXG4gICAgICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZShcImRcIiwgdGhpcy5wYXRoU3RyaW5nKTtcclxuICAgICAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJmaWxsXCIsIHRoaXMuZmlsbENvbG9yKTtcclxuICAgICAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJzdHJva2VcIiwgdGhpcy5zdHJva2VDb2xvcik7XHJcbiAgICAgICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKFwic3Ryb2tlLXdpZHRoXCIsIHRoaXMuc3Ryb2tlV2lkdGgudG9TdHJpbmcoKSk7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gZWxlbWVudDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEFkZHMgdGhlIGdpdmVuIFtjbWRdLCB3aXRoIGl0J3MgYXJndW1lbnQgc3RyaW5nIChbYXJnc10pLCB0byB0aGUgbGlzdFxyXG4gICAgICAgICAqIG9mIGNvbW1hbmRzIHRoYXQgY29tcG9zZSB0aGUgUGF0aC4gVGhlIHJlbGF0aXZlIGZsYWcgY29udHJvbHMgdGhlXHJcbiAgICAgICAgICogY2FzaW5nIG9mIHRoZSBjb21tYW5kIGxldHRlci5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSAgY21kICAgICAgVGhlIGNvbW1hbmQgbGV0dGVyIHRvIGFkZC5cclxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gIGFyZ3MgICAgIFRoZSBhcmd1bWVudHMgdG8gYWRkLlxyXG4gICAgICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gcmVsYXRpdmUgV2hldGhlciBvciBub3QgdGhlIGNvbW1hbmQgaXMgcmVsYXRpdmUuXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgcHJpdmF0ZSBhZGRDb21tYW5kIChjbWQ6IHN0cmluZywgYXJnczogc3RyaW5nLCByZWxhdGl2ZTogYm9vbGVhbik6IHZvaWQge1xyXG4gICAgICAgICAgICBpZiAoIXJlbGF0aXZlKVxyXG4gICAgICAgICAgICAgICAgY21kID0gY21kLnRvVXBwZXJDYXNlKCk7XHJcblxyXG4gICAgICAgICAgICBpZiAoYXJncyAhPSBudWxsKVxyXG4gICAgICAgICAgICAgICAgdGhpcy5wYXRoU3RyaW5nICs9IGAke2NtZH0gJHthcmdzfSBgO1xyXG4gICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICB0aGlzLnBhdGhTdHJpbmcgKz0gY21kO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQWRkcyBhIG1vdmUgY29tbWFuZCB0byB0aGUgbGlzdCBvZiBjb21tYW5kcyB0aGF0IGNvbXBvc2UgdGhlIFBhdGguXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcGFyYW0gIHtudW1iZXJ9ICAgICB4IFRoZSB4IChvciBkeCkgdG8gbW92ZSB0by5cclxuICAgICAgICAgKiBAcGFyYW0gIHtudW1iZXJ9ICAgICB5IFRoZSB5IChvciBkeSkgdG8gbW92ZSB0by5cclxuICAgICAgICAgKiBAcGFyYW0gIHtib29sZWFuID0gdGhpcy5yZWxhdGl2ZX0gcmVsYXRpdmUgQ29udHJvbHMgQUJTT0xVVEUgb3IgUkVMQVRJVkUgbW9kZS5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEByZXR1cm4ge1BhdGh9ICAgICAgICAgVGhlIG1vZGlmaWVkIFBhdGguXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgbW92ZVRvIChcclxuICAgICAgICAgICAgeDogbnVtYmVyLCB5OiBudW1iZXIsXHJcbiAgICAgICAgICAgIHJlbGF0aXZlOiBib29sZWFuID0gdGhpcy5yZWxhdGl2ZVxyXG4gICAgICAgICk6IFBhdGgge1xyXG4gICAgICAgICAgICB0aGlzLmFkZENvbW1hbmQoXCJtXCIsIGAke3h9LCR7eX1gLCByZWxhdGl2ZSk7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEEgc2hvcnQgY29tbWFuZCBmb3IgXCJtb3ZlVG8oW2R4XSwgW2R5XSwgUkVMQVRJVkUpXCIuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcGFyYW0gIHtudW1iZXJ9IGR4IEhvdyBmYXIgdG8gbW92ZSBvbiB0aGUgeC1heGlzLlxyXG4gICAgICAgICAqIEBwYXJhbSAge251bWJlcn0gZHkgSG93IGZhciB0byBtb3ZlIG9uIHRoZSB5LWF4aXMuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcmV0dXJuIHtQYXRofSAgICAgIFRoZSBtb2RpZmllZCBQYXRoLlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIG0gKGR4OiBudW1iZXIsIGR5OiBudW1iZXIpOiBQYXRoIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMubW92ZVRvKGR4LCBkeSwgUkVMQVRJVkUpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQSBzaG9ydCBjb21tYW5kIGZvciBcIm1vdmVUbyhbeF0sIFt5XSwgQUJTT0xVVEUpXCIuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcGFyYW0gIHtudW1iZXJ9IHggVGhlIHggcG9zaXRpb24gdG8gbW92ZSB0by5cclxuICAgICAgICAgKiBAcGFyYW0gIHtudW1iZXJ9IHkgVGhlIHkgcG9zaXRpb24gdG8gbW92ZSB0by5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEByZXR1cm4ge1BhdGh9ICAgICBUaGUgbW9kaWZpZWQgUGF0aC5cclxuICAgICAgICAgKi9cclxuICAgICAgICBNICh4OiBudW1iZXIsIHk6IG51bWJlcik6IFBhdGgge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5tb3ZlVG8oeCwgeSwgQUJTT0xVVEUpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogRHJhd3MgYSBsaW5lIGZyb20gY3VycmVudCBwb3NpdGlvbiB0byAoW3hdLCBbeV0pLiBJZiByZWxhdGl2ZSBpcyB0cnVlXHJcbiAgICAgICAgICogKFJFTEFUSVZFKSwgZHJhd3MgYSBsaW5lIGZyb20gY3VycmVudCBwb3NpdGlvbiB0byB0aGUgY3VycmVudCBwb3NpdGlvblxyXG4gICAgICAgICAqIG9mZnNldCBieSBbeF0gYW5kIFt5XS5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwYXJhbSAge251bWJlcn0gICAgIHggVGhlIHggKG9yIGR4KSB0byBtb3ZlIHRvLlxyXG4gICAgICAgICAqIEBwYXJhbSAge251bWJlcn0gICAgIHkgVGhlIHkgKG9yIGR5KSB0byBtb3ZlIHRvLlxyXG4gICAgICAgICAqIEBwYXJhbSAge2Jvb2xlYW4gPSB0aGlzLnJlbGF0aXZlfSByZWxhdGl2ZSBDb250cm9scyBBQlNPTFVURSBvciBSRUxBVElWRSBtb2RlLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHJldHVybiB7UGF0aH0gICAgICAgICBUaGUgbW9kaWZpZWQgUGF0aC5cclxuICAgICAgICAgKi9cclxuICAgICAgICBsaW5lVG8gKFxyXG4gICAgICAgICAgICB4OiBudW1iZXIsIHk6IG51bWJlcixcclxuICAgICAgICAgICAgcmVsYXRpdmU6IGJvb2xlYW4gPSB0aGlzLnJlbGF0aXZlXHJcbiAgICAgICAgKTogUGF0aCB7XHJcbiAgICAgICAgICAgIHRoaXMuYWRkQ29tbWFuZChcImxcIiwgYCR7eH0sJHt5fWAsIHJlbGF0aXZlKTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQSBzaG9ydCBjb21tYW5kIGZvciBcImxpbmVUbyhbZHhdLCBbZHldLCBSRUxBVElWRSlcIi5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwYXJhbSAge251bWJlcn0gZHggSG93IGZhciB0byBtb3ZlIG9uIHRoZSB4LWF4aXMuXHJcbiAgICAgICAgICogQHBhcmFtICB7bnVtYmVyfSBkeSBIb3cgZmFyIHRvIG1vdmUgb24gdGhlIHktYXhpcy5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEByZXR1cm4ge1BhdGh9ICAgICAgVGhlIG1vZGlmaWVkIFBhdGguXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgbCAoZHg6IG51bWJlciwgZHk6IG51bWJlcik6IFBhdGgge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5saW5lVG8oZHgsIGR5LCBSRUxBVElWRSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBBIHNob3J0IGNvbW1hbmQgZm9yIFwibGluZVRvKFt4XSwgW3ldLCBBQlNPTFVURSlcIi5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwYXJhbSAge251bWJlcn0geCBUaGUgeCBjb29yZGluYXRlIHRvIGRyYXcgdG8uXHJcbiAgICAgICAgICogQHBhcmFtICB7bnVtYmVyfSB5IFRoZSB5IGNvb3JkaW5hdGUgdG8gZHJhdyB0by5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEByZXR1cm4ge1BhdGh9ICAgICBUaGUgbW9kaWZpZWQgUGF0aC5cclxuICAgICAgICAgKi9cclxuICAgICAgICBMICh4OiBudW1iZXIsIHk6IG51bWJlcik6IFBhdGgge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5saW5lVG8oeCwgeSwgQUJTT0xVVEUpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogRHJhd3MgYSBjdXJ2ZSBmcm9tIHRoZSBjdXJyZW50IHBvc2l0aW9uIHRvIChlbmRYLCBlbmRZKSwgdXNpbmcgKHgxLCB5MSlcclxuICAgICAgICAgKiBhbmQgKHgyLCB5MikgYXMgY29udHJvbCBwb2ludHMgZm9yIHRoZSBCZXppZXIgZXF1YXRpb24uIEluIFJFTEFUSVZFXHJcbiAgICAgICAgICogbW9kZSwgdGhlIHgncyBhbmQgeSdzIGJlY29tZSBkeCdzIGFuZCBkeSdzIGZyb20gdGhlIGN1cnJlbnQgcG9zaXRpb24uXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcGFyYW0gIHtudW1iZXJ9ICAgICB4MSAgIFRoZSB4IG9mIHRoZSAxc3QgY29udHJvbCBwb2ludC5cclxuICAgICAgICAgKiBAcGFyYW0gIHtudW1iZXJ9ICAgICB5MSAgIFRoZSB5IG9mIHRoZSAxc3QgY29udHJvbCBwb2ludC5cclxuICAgICAgICAgKiBAcGFyYW0gIHtudW1iZXJ9ICAgICB4MiAgIFRoZSB4IG9mIHRoZSAybmQgY29udHJvbCBwb2ludC5cclxuICAgICAgICAgKiBAcGFyYW0gIHtudW1iZXJ9ICAgICB5MiAgIFRoZSB5IG9mIHRoZSAybmQgY29udHJvbCBwb2ludC5cclxuICAgICAgICAgKiBAcGFyYW0gIHtudW1iZXJ9ICAgICBlbmRYIFRoZSB4IG9mIHRoZSBlbmQgcG9zaXRpb24uXHJcbiAgICAgICAgICogQHBhcmFtICB7bnVtYmVyfSAgICAgZW5kWSBUaGUgeSBvZiB0aGUgZW5kIHBvc2l0aW9uLlxyXG4gICAgICAgICAqIEBwYXJhbSAge2Jvb2xlYW4gPSAgICB0aGlzLnJlbGF0aXZlfSByZWxhdGl2ZSBDb250cm9scyBSRUxBVElWRSBvciBBQlNPTFVURSBtb2RlLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHJldHVybiB7UGF0aH0gICAgICAgICAgICBUaGUgbW9kaWZpZWQgUGF0aC5cclxuICAgICAgICAgKi9cclxuICAgICAgICBjdXJ2ZVRvIChcclxuICAgICAgICAgICAgeDE6IG51bWJlciwgeTE6IG51bWJlcixcclxuICAgICAgICAgICAgeDI6IG51bWJlciwgeTI6IG51bWJlcixcclxuICAgICAgICAgICAgZW5kWDogbnVtYmVyLCBlbmRZOiBudW1iZXIsXHJcbiAgICAgICAgICAgIHJlbGF0aXZlOiBib29sZWFuID0gdGhpcy5yZWxhdGl2ZVxyXG4gICAgICAgICk6IFBhdGgge1xyXG4gICAgICAgICAgICB0aGlzLmFkZENvbW1hbmQoXCJjXCIsIGAke3gxfSwke3kxfSAke3gyfSwke3kyfSAke2VuZFh9LCR7ZW5kWX1gLCByZWxhdGl2ZSk7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEEgc2hvcnQgY29tbWFuZCBmb3IgXCJjdXJ2ZVRvKFtkeDFdLCBbZHkxXSwgW2R4Ml0sIFtkeTJdLCBbZW5kRFhdLFxyXG4gICAgICAgICAqIFtlbmREWV0sIFJFTEFUSVZFKVwiLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHBhcmFtICB7bnVtYmVyfSBkeDEgICBIb3cgZmFyIHRvIG1vdmUgb24gdGhlIHgtYXhpcy5cclxuICAgICAgICAgKiBAcGFyYW0gIHtudW1iZXJ9IGR5MSAgIEhvdyBmYXIgdG8gbW92ZSBvbiB0aGUgeS1heGlzLlxyXG4gICAgICAgICAqIEBwYXJhbSAge251bWJlcn0gZHgyICAgSG93IGZhciB0byBtb3ZlIG9uIHRoZSB4LWF4aXMuXHJcbiAgICAgICAgICogQHBhcmFtICB7bnVtYmVyfSBkeTIgICBIb3cgZmFyIHRvIG1vdmUgb24gdGhlIHktYXhpcy5cclxuICAgICAgICAgKiBAcGFyYW0gIHtudW1iZXJ9IGVuZERYIEhvdyBmYXIgdG8gbW92ZSBvbiB0aGUgeC1heGlzLlxyXG4gICAgICAgICAqIEBwYXJhbSAge251bWJlcn0gZW5kRFkgSG93IGZhciB0byBtb3ZlIG9uIHRoZSB5LWF4aXMuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcmV0dXJuIHtQYXRofSAgICAgICAgIFRoZSBtb2RpZmllZCBQYXRoLlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGMgKFxyXG4gICAgICAgICAgICBkeDE6IG51bWJlciwgZHkxOiBudW1iZXIsXHJcbiAgICAgICAgICAgIGR4MjogbnVtYmVyLCBkeTI6IG51bWJlcixcclxuICAgICAgICAgICAgZW5kRFg6IG51bWJlciwgZW5kRFk6IG51bWJlclxyXG4gICAgICAgICk6IFBhdGgge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jdXJ2ZVRvKGR4MSwgZHkxLCBkeDIsIGR5MiwgZW5kRFgsIGVuZERZLCBSRUxBVElWRSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBBIHNob3J0IGNvbW1hbmQgZm9yIFwiY3VydmVUbyhbeDFdLCBbeTFdLCBbeDJdLCBbeTJdLCBbZW5kWF0sIFtlbmRZXSxcclxuICAgICAgICAgKiBBQlNPTFVURSlcIi5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwYXJhbSAge251bWJlcn0geDEgICBUaGUgeCBwb3NpdGlvbiB0byBtb3ZlIHRvLlxyXG4gICAgICAgICAqIEBwYXJhbSAge251bWJlcn0geTEgICBUaGUgeSBwb3NpdGlvbiB0byBtb3ZlIHRvLlxyXG4gICAgICAgICAqIEBwYXJhbSAge251bWJlcn0geDIgICBUaGUgeCBwb3NpdGlvbiB0byBtb3ZlIHRvLlxyXG4gICAgICAgICAqIEBwYXJhbSAge251bWJlcn0geTIgICBUaGUgeSBwb3NpdGlvbiB0byBtb3ZlIHRvLlxyXG4gICAgICAgICAqIEBwYXJhbSAge251bWJlcn0gZW5kWCBUaGUgeCBwb3NpdGlvbiB0byBtb3ZlIHRvLlxyXG4gICAgICAgICAqIEBwYXJhbSAge251bWJlcn0gZW5kWSBUaGUgeSBwb3NpdGlvbiB0byBtb3ZlIHRvLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHJldHVybiB7UGF0aH0gICAgICAgIFRoZSBtb2RpZmllZCBQYXRoLlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIEMgKFxyXG4gICAgICAgICAgICB4MTogbnVtYmVyLCB5MTogbnVtYmVyLFxyXG4gICAgICAgICAgICB4MjogbnVtYmVyLCB5MjogbnVtYmVyLFxyXG4gICAgICAgICAgICBlbmRYOiBudW1iZXIsIGVuZFk6IG51bWJlclxyXG4gICAgICAgICk6IFBhdGgge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jdXJ2ZVRvKHgxLCB5MSwgeDIsIHkyLCBlbmRYLCBlbmRZLCBBQlNPTFVURSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBEcmF3cyBhIHF1YWRyYXRpYyBjdXJ2ZSBmcm9tIGN1cnJlbnQgcG9zaXRpb24gdG8gKFtlbmRYXSwgW2VuZFldKSxcclxuICAgICAgICAgKiB1c2luZyAoW3gxXSwgW3kxXSkgYXMgdGhlIGNvbnRyb2wgcG9pbnQgZm9yIHRoZSBCZXppZXIgZXF1YXRpb24uXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcGFyYW0gIHtudW1iZXJ9ICAgICB4MSAgIFRoZSB4IHBvc2l0aW9uIHRvIG1vdmUgdG8uXHJcbiAgICAgICAgICogQHBhcmFtICB7bnVtYmVyfSAgICAgeTEgICBUaGUgeSBwb3NpdGlvbiB0byBtb3ZlIHRvLlxyXG4gICAgICAgICAqIEBwYXJhbSAge251bWJlcn0gICAgIGVuZFggVGhlIHggcG9zaXRpb24gdG8gbW92ZSB0by5cclxuICAgICAgICAgKiBAcGFyYW0gIHtudW1iZXJ9ICAgICBlbmRZIFRoZSB5IHBvc2l0aW9uIHRvIG1vdmUgdG8uXHJcbiAgICAgICAgICogQHBhcmFtICB7Ym9vbGVhbiA9ICAgIHRoaXMucmVsYXRpdmV9IHJlbGF0aXZlIENvbnRyb2xzIFJFTEFUSVZFIG9yIEFCU09MVVRFIG1vZGUuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcmV0dXJuIHtQYXRofSAgICAgICAgICAgIFRoZSBtb2RpZmllZCBQYXRoLlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHF1YWRDdXJ2ZVRvIChcclxuICAgICAgICAgICAgeDE6IG51bWJlciwgeTE6IG51bWJlcixcclxuICAgICAgICAgICAgZW5kWDogbnVtYmVyLCBlbmRZOiBudW1iZXIsXHJcbiAgICAgICAgICAgIHJlbGF0aXZlOiBib29sZWFuID0gdGhpcy5yZWxhdGl2ZVxyXG4gICAgICAgICk6IFBhdGgge1xyXG4gICAgICAgICAgICB0aGlzLmFkZENvbW1hbmQoXCJxXCIsIGAke3gxfSwke3kxfSAke2VuZFh9LCR7ZW5kWX1gLCByZWxhdGl2ZSk7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEEgc2hvcnQgY29tbWFuZCBmb3IgXCJxdWFkQ3VydmVUbyhbZHgxXSwgW2R5MV0sIFtlbmREWF0sIFtlbmREWV0sXHJcbiAgICAgICAgICogUkVMQVRJVkUpXCIuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcGFyYW0gIHtudW1iZXJ9IGR4MSAgIEhvdyBmYXIgdG8gbW92ZSBvbiB0aGUgeC1heGlzLlxyXG4gICAgICAgICAqIEBwYXJhbSAge251bWJlcn0gZHkyICAgSG93IGZhciB0byBtb3ZlIG9uIHRoZSB5LWF4aXMuXHJcbiAgICAgICAgICogQHBhcmFtICB7bnVtYmVyfSBlbmREWCBIb3cgZmFyIHRvIG1vdmUgb24gdGhlIHgtYXhpcy5cclxuICAgICAgICAgKiBAcGFyYW0gIHtudW1iZXJ9IGVuZERZIEhvdyBmYXIgdG8gbW92ZSBvbiB0aGUgeS1heGlzLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHJldHVybiB7UGF0aH0gICAgICAgICBUaGUgbW9kaWZpZWQgUGF0aC5cclxuICAgICAgICAgKi9cclxuICAgICAgICBxIChcclxuICAgICAgICAgICAgZHgxOiBudW1iZXIsIGR5MjogbnVtYmVyLFxyXG4gICAgICAgICAgICBlbmREWDogbnVtYmVyLCBlbmREWTogbnVtYmVyXHJcbiAgICAgICAgKTogUGF0aCB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnF1YWRDdXJ2ZVRvKGR4MSwgZHkyLCBlbmREWCwgZW5kRFksIFJFTEFUSVZFKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEEgc2hvcnQgY29tbWFuZCBmb3IgXCJxdWFkQ3VydmVUbyhbeDFdLCBbeDJdLCBbZW5kWF0sIFtlbmRZXSwgQUJTT0xVVEUpXCIuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcGFyYW0gIHtudW1iZXJ9IHgxICAgVGhlIHggcG9zaXRpb24gdG8gbW92ZSB0by5cclxuICAgICAgICAgKiBAcGFyYW0gIHtudW1iZXJ9IHkxICAgVGhlIHkgcG9zaXRpb24gdG8gbW92ZSB0by5cclxuICAgICAgICAgKiBAcGFyYW0gIHtudW1iZXJ9IGVuZFggVGhlIHggcG9zaXRpb24gdG8gbW92ZSB0by5cclxuICAgICAgICAgKiBAcGFyYW0gIHtudW1iZXJ9IGVuZFkgVGhlIHkgcG9zaXRpb24gdG8gbW92ZSB0by5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEByZXR1cm4ge1BhdGh9ICAgICAgICBUaGUgbW9kaWZpZWQgUGF0aC5cclxuICAgICAgICAgKi9cclxuICAgICAgICBRIChcclxuICAgICAgICAgICAgeDE6IG51bWJlciwgeTE6IG51bWJlcixcclxuICAgICAgICAgICAgZW5kWDogbnVtYmVyLCBlbmRZOiBudW1iZXJcclxuICAgICAgICApOiBQYXRoIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMucXVhZEN1cnZlVG8oeDEsIHkxLCBlbmRYLCBlbmRZLCBBQlNPTFVURSlcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIERyYXdzIGEgY3ViaWMgY3VydmUgZnJvbSB0aGUgY3VycmVudCBwb3NpdGlvbiB0byAoW3hdLCBbeV0pLiBJZlxyXG4gICAgICAgICAqIHJlbGF0aXZlIGlzIHRydWUgKFJFTEFUSVZFKSwgW3hdIGFuZCBbeV0gYmVjb21lIG9mZnNldHMgZnJvbSB0aGVcclxuICAgICAgICAgKiBjdXJybmV0IHBvc2l0aW9uIGluc3RlYWQgb2YgYWJzb2x1dGUgcG9zaXRpb25zLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHBhcmFtICB7bnVtYmVyfSAgICAgeCBUaGUgeCBwb3NpdGlvbiB0byBtb3ZlIHRvLlxyXG4gICAgICAgICAqIEBwYXJhbSAge251bWJlcn0gICAgIHkgVGhlIHkgcG9zaXRpb24gdG8gbW92ZSB0by5cclxuICAgICAgICAgKiBAcGFyYW0gIHtib29sZWFuID0gdGhpcy5yZWxhdGl2ZX0gcmVsYXRpdmUgQ29udHJvbHMgUkVMQVRJVkUgb3IgQUJTT0xVVEUgbW9kZS5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEByZXR1cm4ge1BhdGh9ICAgICAgICAgVGhlIG1vZGlmaWVkIFBhdGguXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgY3ViaWNDdXJ2ZVRvIChcclxuICAgICAgICAgICAgeDogbnVtYmVyLCB5OiBudW1iZXIsXHJcbiAgICAgICAgICAgIHJlbGF0aXZlOiBib29sZWFuID0gdGhpcy5yZWxhdGl2ZVxyXG4gICAgICAgICk6IFBhdGgge1xyXG4gICAgICAgICAgICB0aGlzLmFkZENvbW1hbmQoXCJ0XCIsIGAke3h9LCR7eX1gLCByZWxhdGl2ZSk7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEEgc2hvcnQgY29tbWFuZCBmb3IgXCJjdWJpY0N1cnZlVG8oW2R4XSwgW2R5XSwgUkVMQVRJVkUpXCIuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcGFyYW0gIHtudW1iZXJ9IGR4IEhvdyBmYXIgb24gdGhlIHgtYXhpcyB0byBtb3ZlLlxyXG4gICAgICAgICAqIEBwYXJhbSAge251bWJlcn0gZHkgSG93IGZhciBvbiB0aGUgeS1heGlzIHRvIG1vdmUuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcmV0dXJuIHtQYXRofSAgICAgIFRoZSBtb2RpZmVkIFBhdGguXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdCAoZHg6IG51bWJlciwgZHk6IG51bWJlcik6IFBhdGgge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jdWJpY0N1cnZlVG8oZHgsIGR5LCBSRUxBVElWRSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBBIHNob3J0IGNvbW1hbmQgZm9yIFwiY3ViaWNDdXJ2ZVRvKFt4XSwgW3ldLCBBQk9TTFVURSlcIi5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwYXJhbSAge251bWJlcn0geCBUaGUgeCBjb29yZGluYXRlIHRvIGRyYXcgdG8uXHJcbiAgICAgICAgICogQHBhcmFtICB7bnVtYmVyfSB5IFRoZSB4IGNvb3JkaW5hdGUgdG8gZHJhdyB0by5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEByZXR1cm4ge1BhdGh9ICAgICBUaGUgbW9kaWZpZWQgUGF0aC5cclxuICAgICAgICAgKi9cclxuICAgICAgICBUICh4OiBudW1iZXIsIHk6IG51bWJlcik6IFBhdGgge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jdWJpY0N1cnZlVG8oeCwgeSwgQUJTT0xVVEUpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQWRkcyB0aGUgY2xvc2UgcGF0aCBjb21tYW5kIHRvIHRoZSBlbmQgb2YgdGhlIGNvbW1hbmQgbGlzdC5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEByZXR1cm4ge1BhdGh9IFRoZSBtb2RpZmllZCBQYXRoLlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGNsb3NlICgpOiBQYXRoIHtcclxuICAgICAgICAgICAgdGhpcy5hZGRDb21tYW5kKFwiWlwiLCBudWxsLCBmYWxzZSk7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEEgc2hvcnQgY29tbWFuZCBmb3IgXCJjbG9zZSgpXCIuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcmV0dXJuIHtQYXRofSBUaGUgbW9kaWZpZWQgUGF0aC5cclxuICAgICAgICAgKi9cclxuICAgICAgICBaICgpOiBQYXRoIHsgcmV0dXJuIHRoaXMuY2xvc2UoKTsgfVxyXG5cclxuICAgICAgICBmaWxsIChmaWxsQ29sb3I6IHN0cmluZyk6IFBhdGgge1xyXG4gICAgICAgICAgICB0aGlzLmZpbGxDb2xvciA9IGZpbGxDb2xvcjtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogU2V0J3MgdGhlIFtzdHJva2VDb2xvcl0gYW5kIFtzdHJva2VXaWR0aF0gb2YgdGhlIFBhdGggdG8gdGhvc2VcclxuICAgICAgICAgKiBzcGVjaWZpZWQuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcGFyYW0gIHtzdHJpbmd9ICAgIHN0cm9rZUNvbG9yIFRoZSBjb2xvciBzdHJpbmcgZm9yIHRoZSBzdHJva2UuXHJcbiAgICAgICAgICogQHBhcmFtICB7bnVtYmVyID0gdGhpcy5zdHJva2VXaWR0aH0gc3Ryb2tlV2lkdGggVGhlIHdpZGh0IG9mIHRoZSBzdHJva2UuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcmV0dXJuIHtQYXRofSAgICAgICAgICAgICAgICAgIFRoaXMgbW9kaWZpZWQgUGF0aC5cclxuICAgICAgICAgKi9cclxuICAgICAgICBzdHJva2UgKHN0cm9rZUNvbG9yOiBzdHJpbmcsIHN0cm9rZVdpZHRoOiBudW1iZXIgPSB0aGlzLnN0cm9rZVdpZHRoKTogUGF0aCB7XHJcbiAgICAgICAgICAgIHRoaXMuc3Ryb2tlQ29sb3IgPSBzdHJva2VDb2xvcjtcclxuICAgICAgICAgICAgdGhpcy5zdHJva2VXaWR0aCA9IHN0cm9rZVdpZHRoO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBTZXQncyB0aGUgW3N0cm9rZVdpZHRoXSB0byB0aGUgdmFsdWUgZ2l2ZW4uXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcGFyYW0gIHtudW1iZXJ9IHN0cm9rZVdpZHRoIFRoZSBzdHJva2Ugd2lkdGggdmFsdWUuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcmV0dXJuIHtQYXRofSAgICAgICAgICAgICAgIFRoZSBtb2RpZmllZCBQYXRoLlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHB1YmxpYyBzZXRTdHJva2VXaWR0aCAoc3Ryb2tlV2lkdGg6IG51bWJlcik6IFBhdGgge1xyXG4gICAgICAgICAgICB0aGlzLnN0cm9rZVdpZHRoID0gc3Ryb2tlV2lkdGg7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgY2xhc3MgRm9udCB7XHJcbiAgICAgICAgcHVibGljIGZhbWlseTogc3RyaW5nW10gPSBbXTtcclxuICAgICAgICBwdWJsaWMgY29sb3I6IHN0cmluZyA9IFwiXCI7XHJcbiAgICAgICAgcHVibGljIHNpemU6IHN0cmluZyA9IFwiXCI7XHJcbiAgICAgICAgcHVibGljIHdlaWdodDogc3RyaW5nID0gXCJub3JtYWxcIjtcclxuICAgIH1cclxuXHJcbiAgICAvLy8gVGhpcyBjbGFzcyByZXByZXNlbnRzIGEgVGV4dCBlbGVtZW50IGluIHRoZSBTVkcgZG9jdW1lbnQuXHJcbiAgICBleHBvcnQgY2xhc3MgVGV4dCBpbXBsZW1lbnRzIFNWR0VsZW1lbnQge1xyXG5cclxuICAgICAgICAvKiogQHR5cGUge3N0cmluZ30gVGhlIGJvZHkgb2YgdGhlIHRleHQgZWxlbWVudC4gKi9cclxuICAgICAgICBwcml2YXRlIGJvZHk6IHN0cmluZyA9IFwiXCI7XHJcblxyXG4gICAgICAgIC8qKiBAdHlwZSB7bnVtYmVyfSBUaGUgeCBwb3NpdGlvbiBvZiB0aGUgdGV4dCBlbGVtZW50LiAqL1xyXG4gICAgICAgIHByaXZhdGUgeDogbnVtYmVyID0gMDtcclxuXHJcbiAgICAgICAgLyoqIEB0eXBlIHtudW1iZXJ9IFRoZSB5IHBvc2l0aW9uIG9mIHRoZSB0ZXh0IGVsZW1lbnQuICovXHJcbiAgICAgICAgcHJpdmF0ZSB5OiBudW1iZXIgPSAwO1xyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBUaGUgcG9zaXRpb24gb2YgdGhlIHRleHQgYW5jaG9yIHcvciB0byB0aGUgdGV4dCBib2R5IGFuZCB0aGUgYmFzZWxpbmUuXHJcbiAgICAgICAgICogVGhpcyBjYW5ub3QgY29udHJvbCB0aGUgeSBwb3NpdGlvbiBvZiB0aGUgdGV4dCBhbmNob3IsIG9ubHkgdGhlIHhcclxuICAgICAgICAgKiBwb3NpdGlvbi5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEB0eXBlIHtzdHJpbmd9XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgcHJpdmF0ZSB0ZXh0QW5jaG9yOiBzdHJpbmcgPSBcIlwiO1xyXG5cclxuICAgICAgICAvKiogQHR5cGUge0ZvbnR9IFRoZSBmb250IHByb3Blcml0ZXMgb2YgdGhlIHRleHQgb2JqZWN0LiAqL1xyXG4gICAgICAgIHByaXZhdGUgZm9udDogRm9udCA9IG5ldyBGb250KCk7XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIENyZWF0ZXMgYSBUZXh0IGluc3RhbmNlIHRoYXQgaGFzIHRoZSBnaXZlbiBbYm9keV0sIFt4XSwgW3ldLCBhbmRcclxuICAgICAgICAgKiBbZm9udHNdIGZhbWlsaWVzLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHBhcmFtICB7c3RyaW5nfSAgICAgIGJvZHkgVGhlIGJvZHkgb2YgdGhlIFRleHQgb2JqZWN0LlxyXG4gICAgICAgICAqIEBwYXJhbSAge251bWJlcn0gICAgICB4ICAgIFRoZSB4IG9mIHRoZSBUZXh0IG9iamVjdC5cclxuICAgICAgICAgKiBAcGFyYW0gIHtudW1iZXJ9ICAgICAgeSAgICBUaGUgeSBvZiB0aGUgVGV4dCBvYmplY3QuXHJcbiAgICAgICAgICogQHBhcmFtICB7c3RyaW5nW10gPSAgICBudWxsfSAgICAgICAgZm9udHMgVGhlIGZvbnQgZmFtaWxpZXMgdG8gdXNlLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHJldHVybiB7VGV4dH0gICAgICAgICAgICAgQSBuZXdseSBjcmVhdGVkIFRleHQuXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgY29uc3RydWN0b3IgKFxyXG4gICAgICAgICAgICBib2R5OiBzdHJpbmcsXHJcbiAgICAgICAgICAgIHg6IG51bWJlcixcclxuICAgICAgICAgICAgeTogbnVtYmVyLFxyXG4gICAgICAgICAgICBmb250czogc3RyaW5nW10gPSBudWxsXHJcbiAgICAgICAgKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYm9keSA9IGJvZHk7XHJcbiAgICAgICAgICAgIHRoaXMueCA9IHg7XHJcbiAgICAgICAgICAgIHRoaXMueSA9IHk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmZvbnQuZmFtaWx5ID0gZm9udHM7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBUYWtlcyB0aGUgaW5mb3JtYXRpb24gZnJvbSB0aGUgVGV4dCBvYmplY3QgYW5kIGdlbmVyYXRlcyBhbiBFbGVtZW50XHJcbiAgICAgICAgICogdGhhdCBjYW4gYmUgYWRkZWQgdG8gdGhlIFNWRyBhbmQgcmVuZGVyZWQgYnkgdGhlIGJyb3dzZXIuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcmV0dXJuIHtFbGVtZW50fSBBIG5ld2x5IGNyZWF0ZWQgRWxlbWVudC5cclxuICAgICAgICAgKi9cclxuICAgICAgICBwdWJsaWMgdG9YTUwgKCk6IEVsZW1lbnQge1xyXG4gICAgICAgICAgICBjb25zdCBlbGVtZW50OiBFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInRleHRcIik7XHJcblxyXG4gICAgICAgICAgICBlbGVtZW50LmlubmVySFRNTCA9IHRoaXMuYm9keTtcclxuICAgICAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJ4XCIsIHRoaXMueC50b1N0cmluZygpKTtcclxuICAgICAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJ5XCIsIHRoaXMueS50b1N0cmluZygpKTtcclxuXHJcbiAgICAgICAgICAgIGlmICh0aGlzLmZvbnQuZmFtaWx5KVxyXG4gICAgICAgICAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJmb250LWZhbWlseVwiLCB0aGlzLmZvbnQuZmFtaWx5LmpvaW4oXCIsXCIpKTtcclxuXHJcbiAgICAgICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKFwiZm9udC1zaXplXCIsIHRoaXMuZm9udC5zaXplKTtcclxuICAgICAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJmaWxsXCIsIHRoaXMuZm9udC5jb2xvcik7XHJcbiAgICAgICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKFwiZm9udC13ZWlnaHRcIiwgdGhpcy5mb250LndlaWdodCk7XHJcbiAgICAgICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKFwidGV4dC1hbmNob3JcIiwgdGhpcy50ZXh0QW5jaG9yKTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiBlbGVtZW50O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogU2V0cyB0aGUgW2JvZHldIHRleHQgb2YgdGhlIFRleHQgb2JqZWN0IHRvIHRoZSBnaXZlbiBbYm9keV0gdGV4dC5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwYXJhbSAge3N0cmluZ30gYm9keSBUaGUgbmV3IGJvZHkgb2YgdGhlIFRleHQgb2JqZWN0LlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHJldHVybiB7VGV4dH0gICAgICAgIFRoZSBtb2RpZmllZCBUZXh0IG9iamVjdC5cclxuICAgICAgICAgKi9cclxuICAgICAgICBwdWJsaWMgc2V0Qm9keSAoYm9keTogc3RyaW5nKTogVGV4dCB7XHJcbiAgICAgICAgICAgIHRoaXMuYm9keSA9IGJvZHk7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFNldHMgdGhlIHBvc2l0aW9uIG9mIHRoZSB0ZXh0IG9iamVjdCB0byB0aGUgW3hdIGFuZCBbeV0gcG9zaXRpb25zXHJcbiAgICAgICAgICogZ2l2ZW4uXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcGFyYW0gIHtudW1iZXJ9IHggVGhlIHggcG9zaXRpb24gdG8gbW92ZSB0by5cclxuICAgICAgICAgKiBAcGFyYW0gIHtudW1iZXJ9IHkgVGhlIHkgcG9zaXRpb24gdG8gbW92ZSB0by5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEByZXR1cm4ge1RleHR9ICAgICBUaGUgbW9kaWZpZWQgVGV4dCBvYmplY3QuXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgcG9zaXRpb24gKHg6IG51bWJlciwgeTogbnVtYmVyKTogVGV4dCB7XHJcbiAgICAgICAgICAgIHRoaXMueCA9IHg7XHJcbiAgICAgICAgICAgIHRoaXMueSA9IHk7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFNldCdzIHRoZSBmb250IGZhbWlsaWVzIG9mIHRoZSBUZXh0IG9iamVjdCB0byB0aGF0IG9mIHRoZSBmYW1pbGllc1xyXG4gICAgICAgICAqIGdpdmVuIGluIFtmb250c10uXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcGFyYW0gIHtzdHJpbmdbXX0gZm9udHMgQSBsaXN0IG9mIGZvbnQgZmFtaWx5IG5hbWVzLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHJldHVybiB7VGV4dH0gICAgICAgICAgIFRoZSBtb2RpZmllZCBUZXh0IG9iamVjdC5cclxuICAgICAgICAgKi9cclxuICAgICAgICBwdWJsaWMgZm9udHMgKGZvbnRzOiBzdHJpbmdbXSk6IFRleHQge1xyXG4gICAgICAgICAgICB0aGlzLmZvbnQuZmFtaWx5ID0gZm9udHM7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFNldHMgdGhlIFtjb2xvcl0gYXR0cmlidXRlIG9mIHRoZSBUZXh0IG9iamVjdCdzIGZvbnQuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcGFyYW0gIHtzdHJpbmd9IGNvbG9yIFRoZSBjb2xvciB0byBzZXQgdGhlIFRleHQgdG8uXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcmV0dXJuIHtUZXh0fSAgICAgICAgIFRoZSBtb2RpZmllZCBUZXh0IG9iamVjdC5cclxuICAgICAgICAgKi9cclxuICAgICAgICBjb2xvciAoY29sb3I6IHN0cmluZyk6IFRleHQge1xyXG4gICAgICAgICAgICB0aGlzLmZvbnQuY29sb3IgPSBjb2xvcjtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogU2V0cyB0aGUgW3NpemVdIGF0dHJpYnV0ZSBvZiB0aGUgVGV4dCBvYmplY3QncyBmb250LlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHBhcmFtICB7KHN0cmluZyB8IG51bWJlcil9ICAgICBzaXplIFRoZSBzaXplIHRvIHNldCB0aGUgVGV4dCB0by5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEByZXR1cm4ge1RleHR9ICAgICAgICAgVGhlIG1vZGlmaWVkIFRleHQgb2JqZWN0LlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHB1YmxpYyBzaXplIChzaXplOiAoc3RyaW5nIHwgbnVtYmVyKSk6IFRleHQge1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIHNpemUgPT09IFwibnVtYmVyXCIpXHJcbiAgICAgICAgICAgICAgICB0aGlzLmZvbnQuc2l6ZSA9IHNpemUudG9TdHJpbmcoKTtcclxuICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgdGhpcy5mb250LnNpemUgPSBzaXplO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBTZXRzIHRoZSBmb250IFt3ZWlnaHRdIGF0dHJpYnV0ZSBvZiB0aGUgVGV4dCBvYmplY3QncyBmb250LlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHBhcmFtICB7KHN0cmluZyB8IG51bWJlcil9ICAgICB3ZWlnaHQgVGhlIHdlaWdodCB0byBzZXQgdGhlIFRleHQgdG8uXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcmV0dXJuIHtUZXh0fSAgICAgICAgIFRoZSBtb2RpZmllZCBUZXh0IG9iamVjdC5cclxuICAgICAgICAgKi9cclxuICAgICAgICBwdWJsaWMgd2VpZ2h0ICh3ZWlnaHQ6IChzdHJpbmcgfCBudW1iZXIpKTogVGV4dCB7XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2Ygd2VpZ2h0ID09PSBcIm51bWJlclwiKVxyXG4gICAgICAgICAgICAgICAgdGhpcy5mb250LndlaWdodCA9IHdlaWdodC50b1N0cmluZygpO1xyXG4gICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICB0aGlzLmZvbnQud2VpZ2h0ID0gd2VpZ2h0O1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBTZXRzIHRoZSB0ZXh0IGFuY2hvciBbcG9zaXRpb25dIG9mIHRoZSBUZXh0IG9iamVjdC5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwYXJhbSAge3N0cmluZ30gcG9zaXRpb24gQSB0ZXh0IGFuY2hvciBwb3NpdGlvbiBlbnVtIHZhbHVlLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHJldHVybiB7VGV4dH0gICAgICAgICAgICBUaGUgbW9kaWZpZWQgVGV4dCBvYmplY3QuXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgcHVibGljIGFuY2hvciAocG9zaXRpb246IHN0cmluZyk6IFRleHQge1xyXG4gICAgICAgICAgICB0aGlzLnRleHRBbmNob3IgPSBwb3NpdGlvbjtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSJdLCJzb3VyY2VSb290IjoiIn0=
!function(t){var e={};function o(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,o),i.l=!0,i.exports}o.m=t,o.c=e,o.d=function(t,e,r){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)o.d(r,i,function(e){return t[e]}.bind(null,i));return r},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="",o(o.s=0)}([function(t,e,o){"use strict";function r(t){for(var o in t)e.hasOwnProperty(o)||(e[o]=t[o])}e.__esModule=!0,r(o(1)),r(o(2)),r(o(3))},function(t,e,o){"use strict";e.__esModule=!0,e.ABSOLUTE=!1,e.RELATIVE=!0;var r=function(){function t(t,o){void 0===t&&(t=""),void 0===o&&(o=e.ABSOLUTE),this.pathString="",this.relative=e.ABSOLUTE,this.fillColor="black",this.strokeColor="none",this.strokeWidth=1,this.pathString=t,this.relative=o}return t.prototype.toXML=function(){var t=document.createElementNS("http://www.w3.org/2000/svg","path");return t.setAttribute("d",this.pathString),t.setAttribute("fill",this.fillColor),t.setAttribute("stroke",this.strokeColor),t.setAttribute("stroke-width",this.strokeWidth.toString()),t},t.prototype.moveTo=function(t,e,o){return void 0===o&&(o=this.relative),this.addCommand("m",t+","+e,o),this},t.prototype.m=function(t,o){return this.moveTo(t,o,e.RELATIVE)},t.prototype.M=function(t,o){return this.moveTo(t,o,e.ABSOLUTE)},t.prototype.lineTo=function(t,e,o){return void 0===o&&(o=this.relative),this.addCommand("l",t+","+e,o),this},t.prototype.l=function(t,o){return this.lineTo(t,o,e.RELATIVE)},t.prototype.L=function(t,o){return this.lineTo(t,o,e.ABSOLUTE)},t.prototype.curveTo=function(t,e,o,r,i,n,s){return void 0===s&&(s=this.relative),this.addCommand("c",t+","+e+" "+o+","+r+" "+i+","+n,s),this},t.prototype.c=function(t,o,r,i,n,s){return this.curveTo(t,o,r,i,n,s,e.RELATIVE)},t.prototype.C=function(t,o,r,i,n,s){return this.curveTo(t,o,r,i,n,s,e.ABSOLUTE)},t.prototype.quadCurveTo=function(t,e,o,r,i){return void 0===i&&(i=this.relative),this.addCommand("q",t+","+e+" "+o+","+r,i),this},t.prototype.q=function(t,o,r,i){return this.quadCurveTo(t,o,r,i,e.RELATIVE)},t.prototype.Q=function(t,o,r,i){return this.quadCurveTo(t,o,r,i,e.ABSOLUTE)},t.prototype.cubicCurveTo=function(t,e,o){return void 0===o&&(o=this.relative),this.addCommand("t",t+","+e,o),this},t.prototype.t=function(t,o){return this.cubicCurveTo(t,o,e.RELATIVE)},t.prototype.T=function(t,o){return this.cubicCurveTo(t,o,e.ABSOLUTE)},t.prototype.close=function(){return this.addCommand("Z",null,!1),this},t.prototype.Z=function(){return this.close()},t.prototype.setFill=function(t){return this.fillColor=t,this},t.prototype.setStroke=function(t,e){return void 0===e&&(e=this.strokeWidth),this.strokeColor=t,this.strokeWidth=e,this},t.prototype.setStrokeWidth=function(t){return this.strokeWidth=t,this},t.prototype.addCommand=function(t,e,o){o||(t=t.toUpperCase()),this.pathString+=null!=e?t+" "+e+" ":t},t}();e.Path=r},function(t,e,o){"use strict";e.__esModule=!0;var r=function(){function t(t,e){void 0===t&&(t=""),void 0===e&&(e=[]),this.selector="",this.elements=[],this.selector=t,this.elements=e}return t.prototype.add=function(t){return this.elements.push(t),this},t.prototype.render=function(){var t=document.querySelectorAll(this.selector)[0];this.elements.forEach((function(e){return t.appendChild(e.toXML())}))},t}();e.SVG=r},function(t,e,o){"use strict";e.__esModule=!0;var r=o(4),i=function(){function t(t,e,o,i){void 0===i&&(i=null),this.body="",this.x=0,this.y=0,this.textAnchor="",this.fontProperties=new r.TextFontProperties,this.body=t,this.x=e,this.y=o,this.fontProperties.family=i}return t.prototype.toXML=function(){var t=document.createElementNS("http://www.w3.org/2000/svg","text");return t.innerHTML=this.body,t.setAttribute("x",this.x.toString()),t.setAttribute("y",this.y.toString()),this.fontProperties.family&&t.setAttribute("font-family",this.fontProperties.family.join(",")),t.setAttribute("font-size",this.fontProperties.size),t.setAttribute("fill",this.fontProperties.color),t.setAttribute("font-weight",this.fontProperties.weight),t.setAttribute("text-anchor",this.textAnchor),t},t.prototype.setBody=function(t){return this.body=t,this},t.prototype.setPosition=function(t,e){return this.x=t,this.y=e,this},t.prototype.setFonts=function(t){return this.fontProperties.family=t,this},t.prototype.setColor=function(t){return this.fontProperties.color=t,this},t.prototype.setSize=function(t){return this.fontProperties.size="number"==typeof t?t.toString():t,this},t.prototype.setWeight=function(t){return this.fontProperties.weight="number"==typeof t?t.toString():t,this},t.prototype.setAnchor=function(t){return this.textAnchor=t,this},t}();e.Text=i},function(t,e,o){"use strict";e.__esModule=!0;var r=function(){this.family=[],this.color="",this.size="",this.weight="normal"};e.TextFontProperties=r}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL1lBU0gudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1BhdGgudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1NWRy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvVGV4dC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvVGV4dEZvbnRQcm9wZXJ0aWVzLnRzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiQUJTT0xVVEUiLCJSRUxBVElWRSIsInBhdGhTdHJpbmciLCJyZWxhdGl2ZSIsImZpbGxDb2xvciIsInN0cm9rZUNvbG9yIiwic3Ryb2tlV2lkdGgiLCJ0aGlzIiwidG9YTUwiLCJlbGVtZW50IiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50TlMiLCJzZXRBdHRyaWJ1dGUiLCJ0b1N0cmluZyIsIm1vdmVUbyIsIngiLCJ5IiwiYWRkQ29tbWFuZCIsImR4IiwiZHkiLCJNIiwibGluZVRvIiwiTCIsImN1cnZlVG8iLCJ4MSIsInkxIiwieDIiLCJ5MiIsImVuZFgiLCJlbmRZIiwiZHgxIiwiZHkxIiwiZHgyIiwiZHkyIiwiZW5kRFgiLCJlbmREWSIsIkMiLCJxdWFkQ3VydmVUbyIsInEiLCJRIiwiY3ViaWNDdXJ2ZVRvIiwiVCIsImNsb3NlIiwiWiIsInNldEZpbGwiLCJzZXRTdHJva2UiLCJzZXRTdHJva2VXaWR0aCIsImNtZCIsImFyZ3MiLCJ0b1VwcGVyQ2FzZSIsIlBhdGgiLCJzZWxlY3RvciIsImVsZW1lbnRzIiwiYWRkIiwicHVzaCIsInJlbmRlciIsInN2ZyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJmb3JFYWNoIiwiZWxlbSIsImFwcGVuZENoaWxkIiwiU1ZHIiwiYm9keSIsImZvbnRzIiwidGV4dEFuY2hvciIsImZvbnRQcm9wZXJ0aWVzIiwiVGV4dEZvbnRQcm9wZXJ0aWVzIiwiZmFtaWx5IiwiaW5uZXJIVE1MIiwiam9pbiIsInNpemUiLCJjb2xvciIsIndlaWdodCIsInNldEJvZHkiLCJzZXRQb3NpdGlvbiIsInNldEZvbnRzIiwic2V0Q29sb3IiLCJzZXRTaXplIiwic2V0V2VpZ2h0Iiwic2V0QW5jaG9yIiwicG9zaXRpb24iLCJUZXh0Il0sIm1hcHBpbmdzIjoiYUFDRSxJQUFJQSxFQUFtQixHQUd2QixTQUFTQyxFQUFvQkMsR0FHNUIsR0FBR0YsRUFBaUJFLEdBQ25CLE9BQU9GLEVBQWlCRSxHQUFVQyxRQUduQyxJQUFJQyxFQUFTSixFQUFpQkUsR0FBWSxDQUN6Q0csRUFBR0gsRUFDSEksR0FBRyxFQUNISCxRQUFTLElBVVYsT0FOQUksRUFBUUwsR0FBVU0sS0FBS0osRUFBT0QsUUFBU0MsRUFBUUEsRUFBT0QsUUFBU0YsR0FHL0RHLEVBQU9FLEdBQUksRUFHSkYsRUFBT0QsUUFLZkYsRUFBb0JRLEVBQUlGLEVBR3hCTixFQUFvQlMsRUFBSVYsRUFHeEJDLEVBQW9CVSxFQUFJLFNBQVNSLEVBQVNTLEVBQU1DLEdBQzNDWixFQUFvQmEsRUFBRVgsRUFBU1MsSUFDbENHLE9BQU9DLGVBQWViLEVBQVNTLEVBQU0sQ0FBRUssWUFBWSxFQUFNQyxJQUFLTCxLQUtoRVosRUFBb0JrQixFQUFJLFNBQVNoQixHQUNYLG9CQUFYaUIsUUFBMEJBLE9BQU9DLGFBQzFDTixPQUFPQyxlQUFlYixFQUFTaUIsT0FBT0MsWUFBYSxDQUFFQyxNQUFPLFdBRTdE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QUF1RSxVQUFQLFNBQWtCTixHQU1kLE9BSklqRSxLQUFLMEQsZUFBZU8sT0FERixpQkFBWEEsRUFDc0JBLEVBQU8zRCxXQUVQMkQsRUFFMUJqRSxNQVVKLFlBQUF3RSxVQUFQLFNBQWtCQyxHQUdkLE9BRkF6RSxLQUFLeUQsV0FBYWdCLEVBRVh6RSxNQUVmLEVBN0tBLEdBQWEsRUFBQTBFLFEsNkNDRmIsaUJBQ1csS0FBQWQsT0FBbUIsR0FDbkIsS0FBQUksTUFBZ0IsR0FDaEIsS0FBQUQsS0FBZSxHQUNmLEtBQUFFLE9BQWlCLFVBSmYsRUFBQU4iLCJmaWxlIjoieWFzaC5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAwKTtcbiIsIi8vIEBmaWxlIFlBU0gudHNcclxuLy8gQGF1dGhvciBKb3NlcGggUiBNaWxlcyA8bWVAam9zZXBocm1pbGVzLmNvbT5cclxuLy8gQGRhdGUgMjAxOS0xMC0xNlxyXG4vL1xyXG4vLyBUaGlzIGlzIHRoZSBjb3JlIGZpbGUgZm9yIFlBU0ggKFlldCBBbm90aGVyIFNWRyBIZWxwZXIpLlxyXG5cclxuZXhwb3J0ICogZnJvbSBcIi4vUGF0aFwiO1xyXG5leHBvcnQgKiBmcm9tIFwiLi9TVkdcIjtcclxuZXhwb3J0ICogZnJvbSBcIi4vVGV4dFwiOyIsIi8vIEBmaWxlIFBhdGgudHNcclxuLy8gQGF1dGhvciBKb3NlcGggUiBNaWxlcyA8bWVAam9zZXBocm1pbGVzLmNvbT5cclxuLy8gQGRhdGUgMjAxOS0xMC0xOVxyXG4vL1xyXG4vLyBUaGlzIGZpbGUgZGVjbGFyZXMgb3VyIFBhdGggY2xhc3MsIHVzZWQgdG8gcmVwcmVzZW50IFNWRyBwYXRocy5cclxuXHJcbmltcG9ydCB7IElTVkdFbGVtZW50IH0gZnJvbSBcIi4vSVNWR0VsZW1lbnRcIjtcclxuXHJcbi8qKiBAdHlwZSB7Ym9vbGVhbn0gQUJTT0xVVEUgPSBTVkcgZHJhd3Mgd2l0aCBhYnNvbHV0ZSBjb29yZGluYXRlcy4gKi9cclxuZXhwb3J0IGNvbnN0IEFCU09MVVRFOiBib29sZWFuID0gZmFsc2U7XHJcblxyXG4vKiogQHR5cGUge2Jvb2xlYW59IFJFTEFUSVZFID0gU1ZHIGRyYXdzIHdpdGggcmVsYXRpdmUgY29vcmRpbmF0ZXMuICovXHJcbmV4cG9ydCBjb25zdCBSRUxBVElWRTogYm9vbGVhbiA9IHRydWU7XHJcblxyXG5cclxuLy8vIFRoaXMgY2xhc3MgcmVwcmVzZW50cyBhIFBhdGggZWxlbWVudCBpbiB0aGUgU1ZHIGRvY3VtZW50LlxyXG5leHBvcnQgY2xhc3MgUGF0aCBpbXBsZW1lbnRzIElTVkdFbGVtZW50IHtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFRoZSBzdHJpbmcgdGhhdCBjb250YWlucyB0aGUgaW5zcnVjdGlvbnMgZm9yIGRyYXdpbmcgdGhlIFBhdGguXHJcbiAgICAgKiBAdHlwZSB7c3RyaW5nfVxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIHBhdGhTdHJpbmc6IHN0cmluZyA9IFwiXCI7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGUgZGVmYXVsdCBjb29yZGluYXRlIG1vZGUgZm9yIHRoZSBQYXRoLiBUaGUgUGF0aCBkZWZhdWx0cyB0b1xyXG4gICAgICogQUJTT0xVVEUsIGJ1dCBjYW4gaGF2ZSB0aGlzIG92ZXJyaWRkZW4gYnk6XHJcbiAgICAgKiAgLSBQYXNzaW5nIFJFTEFUSVZFIHRvIHRoZSBjb25zdHJ1Y3RvcixcclxuICAgICAqICAtIFBhc3NpbmcgUkVMQVRJVkUgdG8gdGhlIGRyYXdpbmcgZnVuY3Rpb25zIChpZiB0aGV5IGFjY2VwdFxyXG4gICAgICogICAgY29vcmRpbmF0ZSBtb2RlIGFzIGEgcGFyYW1ldGVyKSwgb3JcclxuICAgICAqICAtIFVzaW5nIHRoZSBzaG9ydC1oYW5kIGZ1bmN0aW9ucywgd2hpY2ggc3BlY2lmeSBjb29yZGluYXRlIG1vZGUuXHJcbiAgICAgKlxyXG4gICAgICogQHR5cGUge2Jvb2xlYW59XHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgcmVsYXRpdmU6IGJvb2xlYW4gPSBBQlNPTFVURTtcclxuXHJcbiAgICAvKiogQHR5cGUge3N0cmluZ30gVGhlIGZpbGwgY29sb3IgZm9yIHRoZSBQYXRoLiAqL1xyXG4gICAgcHJpdmF0ZSBmaWxsQ29sb3I6IHN0cmluZyA9IFwiYmxhY2tcIjtcclxuXHJcbiAgICAvKiogQHR5cGUge3N0cmluZ30gVGhlIHN0cm9rZSBjb2xvciBmb3IgdGhlIFBhdGguICovXHJcbiAgICBwcml2YXRlIHN0cm9rZUNvbG9yOiBzdHJpbmcgPSBcIm5vbmVcIjtcclxuXHJcbiAgICAvKiogQHR5cGUge251bWJlcn0gVGhlIHN0cm9rZSB3aWR0aCBmb3IgdGhlIFBhdGguICovXHJcbiAgICBwcml2YXRlIHN0cm9rZVdpZHRoOiBudW1iZXIgPSAxO1xyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqIENyZWF0ZXMgYSBQYXRoIGluc3RhbmNlIHRoYXQgaGFzIHRoZSBzcGVjaWZpZWQgW3BhdGhTdHJpbmddIGFuZFxyXG4gICAgICogY29vcmRpbmF0ZSBtb2RlLiBJZiBib3RoIGFyZSBub3Qgc3BlY2lmaWVkLCB0aGUgUGF0aCB3aWxsIGhhdmUgYW5cclxuICAgICAqIGVtcHR5IFtwYXRoU3RyaW5nXSBhbmQgd2lsbCB1c2UgdGhlIEFCU09MVVRFIGNvb3JkaW5hdGUgbW9kZS5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gIHtzdHJpbmcgID0gXCJcIn0gICAgICAgICAgcGF0aFN0cmluZyBTVkcgZHJhdyBjb21tYW5kIHN0cmluZy5cclxuICAgICAqIEBwYXJhbSAge2Jvb2xlYW4gPSBBQlNPTFVURX0gICAgcmVsYXRpdmUgICBUaGUgY29vcmRpbmF0ZSBtb2RlIG9mIHRoZSBQYXRoLlxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm4ge1BhdGh9ICAgICAgICAgQSBuZXdseSBjcmVhdGVkIHBhdGggaW5zdGFuY2UuXHJcbiAgICAgKi9cclxuICAgIGNvbnN0cnVjdG9yIChwYXRoU3RyaW5nOiBzdHJpbmcgPSBcIlwiLCByZWxhdGl2ZTogYm9vbGVhbiA9IEFCU09MVVRFKSB7XHJcbiAgICAgICAgdGhpcy5wYXRoU3RyaW5nID0gcGF0aFN0cmluZztcclxuICAgICAgICB0aGlzLnJlbGF0aXZlID0gcmVsYXRpdmU7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUYWtlcyB0aGUgaW5mb3JtYXRpb24gZnJvbSB0aGUgUGF0aCBhbmQgZ2VuZXJhdGVzIGFuIEVsZW1lbnQgdGhhdCBjYW5cclxuICAgICAqIGJlIGFkZGVkIHRvIHRoZSBTVkcgYW5kIHJlbmRlcmVkIGJ5IHRoZSBicm93c2VyLlxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm4ge0VsZW1lbnR9IEEgbmV3bHkgY3JlYXRlZCBFbGVtZW50LlxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgdG9YTUwgKCk6IEVsZW1lbnQge1xyXG4gICAgICAgIC8vIG5vdGUoanJtKTogV2UgdXNlIGNyZWF0ZUVsZW1lbnROUygpIGhlcmUgd2l0aCB0aGUgXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiXHJcbiAgICAgICAgLy8gbmFtZXNwYWNlIGR1ZSB0byBTVkcgYmVpbmcgYW4gWE1MIGZvcm1hdCBzZXBhcmF0ZSBmcm9tIEhUTUwuIFRoaXNcclxuICAgICAgICAvLyBjYXVzZWQgYSBncmVhdCBkZWFsIG9mIGNvbmZ1c2lvbiBmb3IgbWUgaW5pdGlhbGx5IHdoZW4gSSB1c2VkXHJcbiAgICAgICAgLy8gY3JlYXRlRWxlbWVudCBhbmQgbm90aGluZyByZW5kZXJlZCBvbiB0aGUgc2NyZWVuLiBUaGUgcmVhc29uIHdoeVxyXG4gICAgICAgIC8vIGl0IGRpZG4ndCB3b3JrIHdhcyBiZWNhdXNlIHdlIHdlcmUgYWRkaW5nIEhUTUwgZWxlbWVudHMgdG8gYW4gWE1MXHJcbiAgICAgICAgLy8gYXJlYSwgYW5kIGRlc3BpdGUgdGhlIGZhY3QgdGhhdCB0aGV5IHJlbmRlciB0aGUgc2FtZSBpbiB0aGUgRE9NLFxyXG4gICAgICAgIC8vIHRoZSBicm93c2VyJ3MgcmVuZGVyaW5nIGVuZ2luZSBkaXNhbGxvd3MgdGhpcy4gSW4gdHJ1ZSB3ZWItXHJcbiAgICAgICAgLy8gdGVjaG5vbG9neSBmYXNoaW9uLCB0aGUgZXJyb3Igd2FzIG5vdCByZXBvcnRlZCB0byB0aGUgdXNlciwgc28gSVxyXG4gICAgICAgIC8vIGhhZCByZXNvcnQgdG8gdGhlIGdvb2Qtb2xkIEludGVybmV0IHRvIGZpZ3VyZSB0aGlzIG9uZSBvdXQ6XHJcbiAgICAgICAgLy8gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMTc1MjAzMzcvZHluYW1pY2FsbHktcmVuZGVyZWQtc3ZnLWlzLW5vdC1kaXNwbGF5aW5nXHJcbiAgICAgICAgLy8gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvODE3MzIxNy9jcmVhdGVlbGVtZW50LXZzLWNyZWF0ZWVsZW1lbnRuc1xyXG4gICAgICAgIGNvbnN0IGVsZW1lbnQ6IEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJwYXRoXCIpO1xyXG5cclxuICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZShcImRcIiwgdGhpcy5wYXRoU3RyaW5nKTtcclxuICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZShcImZpbGxcIiwgdGhpcy5maWxsQ29sb3IpO1xyXG4gICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKFwic3Ryb2tlXCIsIHRoaXMuc3Ryb2tlQ29sb3IpO1xyXG4gICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKFwic3Ryb2tlLXdpZHRoXCIsIHRoaXMuc3Ryb2tlV2lkdGgudG9TdHJpbmcoKSk7XHJcblxyXG4gICAgICAgIHJldHVybiBlbGVtZW50O1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQWRkcyBhIG1vdmUgY29tbWFuZCB0byB0aGUgbGlzdCBvZiBjb21tYW5kcyB0aGF0IGNvbXBvc2UgdGhlIFBhdGguXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtICB7bnVtYmVyfSAgICAgeCBUaGUgeCAob3IgZHgpIHRvIG1vdmUgdG8uXHJcbiAgICAgKiBAcGFyYW0gIHtudW1iZXJ9ICAgICB5IFRoZSB5IChvciBkeSkgdG8gbW92ZSB0by5cclxuICAgICAqIEBwYXJhbSAge2Jvb2xlYW4gPSB0aGlzLnJlbGF0aXZlfSByZWxhdGl2ZSBDb250cm9scyBBQlNPTFVURSBvciBSRUxBVElWRSBtb2RlLlxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm4ge1BhdGh9ICAgICAgICAgVGhlIG1vZGlmaWVkIFBhdGguXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBtb3ZlVG8gKFxyXG4gICAgICAgIHg6IG51bWJlciwgeTogbnVtYmVyLFxyXG4gICAgICAgIHJlbGF0aXZlOiBib29sZWFuID0gdGhpcy5yZWxhdGl2ZVxyXG4gICAgKTogUGF0aCB7XHJcbiAgICAgICAgdGhpcy5hZGRDb21tYW5kKFwibVwiLCBgJHt4fSwke3l9YCwgcmVsYXRpdmUpO1xyXG5cclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEEgc2hvcnQgY29tbWFuZCBmb3IgXCJtb3ZlVG8oW2R4XSwgW2R5XSwgUkVMQVRJVkUpXCIuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtICB7bnVtYmVyfSBkeCBIb3cgZmFyIHRvIG1vdmUgb24gdGhlIHgtYXhpcy5cclxuICAgICAqIEBwYXJhbSAge251bWJlcn0gZHkgSG93IGZhciB0byBtb3ZlIG9uIHRoZSB5LWF4aXMuXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybiB7UGF0aH0gICAgICBUaGUgbW9kaWZpZWQgUGF0aC5cclxuICAgICAqL1xyXG4gICAgcHVibGljIG0gKGR4OiBudW1iZXIsIGR5OiBudW1iZXIpOiBQYXRoIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5tb3ZlVG8oZHgsIGR5LCBSRUxBVElWRSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBBIHNob3J0IGNvbW1hbmQgZm9yIFwibW92ZVRvKFt4XSwgW3ldLCBBQlNPTFVURSlcIi5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gIHtudW1iZXJ9IHggVGhlIHggcG9zaXRpb24gdG8gbW92ZSB0by5cclxuICAgICAqIEBwYXJhbSAge251bWJlcn0geSBUaGUgeSBwb3NpdGlvbiB0byBtb3ZlIHRvLlxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm4ge1BhdGh9ICAgICBUaGUgbW9kaWZpZWQgUGF0aC5cclxuICAgICAqL1xyXG4gICAgcHVibGljIE0gKHg6IG51bWJlciwgeTogbnVtYmVyKTogUGF0aCB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubW92ZVRvKHgsIHksIEFCU09MVVRFKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIERyYXdzIGEgbGluZSBmcm9tIGN1cnJlbnQgcG9zaXRpb24gdG8gKFt4XSwgW3ldKS4gSWYgcmVsYXRpdmUgaXMgdHJ1ZVxyXG4gICAgICogKFJFTEFUSVZFKSwgZHJhd3MgYSBsaW5lIGZyb20gY3VycmVudCBwb3NpdGlvbiB0byB0aGUgY3VycmVudCBwb3NpdGlvblxyXG4gICAgICogb2Zmc2V0IGJ5IFt4XSBhbmQgW3ldLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSAge251bWJlcn0gICAgIHggVGhlIHggKG9yIGR4KSB0byBtb3ZlIHRvLlxyXG4gICAgICogQHBhcmFtICB7bnVtYmVyfSAgICAgeSBUaGUgeSAob3IgZHkpIHRvIG1vdmUgdG8uXHJcbiAgICAgKiBAcGFyYW0gIHtib29sZWFuID0gdGhpcy5yZWxhdGl2ZX0gcmVsYXRpdmUgQ29udHJvbHMgQUJTT0xVVEUgb3IgUkVMQVRJVkUgbW9kZS5cclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJuIHtQYXRofSAgICAgICAgIFRoZSBtb2RpZmllZCBQYXRoLlxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgbGluZVRvIChcclxuICAgICAgICB4OiBudW1iZXIsIHk6IG51bWJlcixcclxuICAgICAgICByZWxhdGl2ZTogYm9vbGVhbiA9IHRoaXMucmVsYXRpdmVcclxuICAgICk6IFBhdGgge1xyXG4gICAgICAgIHRoaXMuYWRkQ29tbWFuZChcImxcIiwgYCR7eH0sJHt5fWAsIHJlbGF0aXZlKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBBIHNob3J0IGNvbW1hbmQgZm9yIFwibGluZVRvKFtkeF0sIFtkeV0sIFJFTEFUSVZFKVwiLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSAge251bWJlcn0gZHggSG93IGZhciB0byBtb3ZlIG9uIHRoZSB4LWF4aXMuXHJcbiAgICAgKiBAcGFyYW0gIHtudW1iZXJ9IGR5IEhvdyBmYXIgdG8gbW92ZSBvbiB0aGUgeS1heGlzLlxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm4ge1BhdGh9ICAgICAgVGhlIG1vZGlmaWVkIFBhdGguXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBsIChkeDogbnVtYmVyLCBkeTogbnVtYmVyKTogUGF0aCB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubGluZVRvKGR4LCBkeSwgUkVMQVRJVkUpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQSBzaG9ydCBjb21tYW5kIGZvciBcImxpbmVUbyhbeF0sIFt5XSwgQUJTT0xVVEUpXCIuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtICB7bnVtYmVyfSB4IFRoZSB4IGNvb3JkaW5hdGUgdG8gZHJhdyB0by5cclxuICAgICAqIEBwYXJhbSAge251bWJlcn0geSBUaGUgeSBjb29yZGluYXRlIHRvIGRyYXcgdG8uXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybiB7UGF0aH0gICAgIFRoZSBtb2RpZmllZCBQYXRoLlxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgTCAoeDogbnVtYmVyLCB5OiBudW1iZXIpOiBQYXRoIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5saW5lVG8oeCwgeSwgQUJTT0xVVEUpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogRHJhd3MgYSBjdXJ2ZSBmcm9tIHRoZSBjdXJyZW50IHBvc2l0aW9uIHRvIChlbmRYLCBlbmRZKSwgdXNpbmcgKHgxLCB5MSlcclxuICAgICAqIGFuZCAoeDIsIHkyKSBhcyBjb250cm9sIHBvaW50cyBmb3IgdGhlIEJlemllciBlcXVhdGlvbi4gSW4gUkVMQVRJVkVcclxuICAgICAqIG1vZGUsIHRoZSB4J3MgYW5kIHkncyBiZWNvbWUgZHgncyBhbmQgZHkncyBmcm9tIHRoZSBjdXJyZW50IHBvc2l0aW9uLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSAge251bWJlcn0gICAgIHgxICAgVGhlIHggb2YgdGhlIDFzdCBjb250cm9sIHBvaW50LlxyXG4gICAgICogQHBhcmFtICB7bnVtYmVyfSAgICAgeTEgICBUaGUgeSBvZiB0aGUgMXN0IGNvbnRyb2wgcG9pbnQuXHJcbiAgICAgKiBAcGFyYW0gIHtudW1iZXJ9ICAgICB4MiAgIFRoZSB4IG9mIHRoZSAybmQgY29udHJvbCBwb2ludC5cclxuICAgICAqIEBwYXJhbSAge251bWJlcn0gICAgIHkyICAgVGhlIHkgb2YgdGhlIDJuZCBjb250cm9sIHBvaW50LlxyXG4gICAgICogQHBhcmFtICB7bnVtYmVyfSAgICAgZW5kWCBUaGUgeCBvZiB0aGUgZW5kIHBvc2l0aW9uLlxyXG4gICAgICogQHBhcmFtICB7bnVtYmVyfSAgICAgZW5kWSBUaGUgeSBvZiB0aGUgZW5kIHBvc2l0aW9uLlxyXG4gICAgICogQHBhcmFtICB7Ym9vbGVhbiA9ICAgIHRoaXMucmVsYXRpdmV9IHJlbGF0aXZlIENvbnRyb2xzIFJFTEFUSVZFIG9yIEFCU09MVVRFIG1vZGUuXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybiB7UGF0aH0gICAgICAgICAgICBUaGUgbW9kaWZpZWQgUGF0aC5cclxuICAgICAqL1xyXG4gICAgcHVibGljIGN1cnZlVG8gKFxyXG4gICAgICAgIHgxOiBudW1iZXIsIHkxOiBudW1iZXIsXHJcbiAgICAgICAgeDI6IG51bWJlciwgeTI6IG51bWJlcixcclxuICAgICAgICBlbmRYOiBudW1iZXIsIGVuZFk6IG51bWJlcixcclxuICAgICAgICByZWxhdGl2ZTogYm9vbGVhbiA9IHRoaXMucmVsYXRpdmVcclxuICAgICk6IFBhdGgge1xyXG4gICAgICAgIHRoaXMuYWRkQ29tbWFuZChcImNcIiwgYCR7eDF9LCR7eTF9ICR7eDJ9LCR7eTJ9ICR7ZW5kWH0sJHtlbmRZfWAsIHJlbGF0aXZlKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBBIHNob3J0IGNvbW1hbmQgZm9yIFwiY3VydmVUbyhbZHgxXSwgW2R5MV0sIFtkeDJdLCBbZHkyXSwgW2VuZERYXSxcclxuICAgICAqIFtlbmREWV0sIFJFTEFUSVZFKVwiLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSAge251bWJlcn0gZHgxICAgSG93IGZhciB0byBtb3ZlIG9uIHRoZSB4LWF4aXMuXHJcbiAgICAgKiBAcGFyYW0gIHtudW1iZXJ9IGR5MSAgIEhvdyBmYXIgdG8gbW92ZSBvbiB0aGUgeS1heGlzLlxyXG4gICAgICogQHBhcmFtICB7bnVtYmVyfSBkeDIgICBIb3cgZmFyIHRvIG1vdmUgb24gdGhlIHgtYXhpcy5cclxuICAgICAqIEBwYXJhbSAge251bWJlcn0gZHkyICAgSG93IGZhciB0byBtb3ZlIG9uIHRoZSB5LWF4aXMuXHJcbiAgICAgKiBAcGFyYW0gIHtudW1iZXJ9IGVuZERYIEhvdyBmYXIgdG8gbW92ZSBvbiB0aGUgeC1heGlzLlxyXG4gICAgICogQHBhcmFtICB7bnVtYmVyfSBlbmREWSBIb3cgZmFyIHRvIG1vdmUgb24gdGhlIHktYXhpcy5cclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJuIHtQYXRofSAgICAgICAgIFRoZSBtb2RpZmllZCBQYXRoLlxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgYyAoXHJcbiAgICAgICAgZHgxOiBudW1iZXIsIGR5MTogbnVtYmVyLFxyXG4gICAgICAgIGR4MjogbnVtYmVyLCBkeTI6IG51bWJlcixcclxuICAgICAgICBlbmREWDogbnVtYmVyLCBlbmREWTogbnVtYmVyXHJcbiAgICApOiBQYXRoIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jdXJ2ZVRvKGR4MSwgZHkxLCBkeDIsIGR5MiwgZW5kRFgsIGVuZERZLCBSRUxBVElWRSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBBIHNob3J0IGNvbW1hbmQgZm9yIFwiY3VydmVUbyhbeDFdLCBbeTFdLCBbeDJdLCBbeTJdLCBbZW5kWF0sIFtlbmRZXSxcclxuICAgICAqIEFCU09MVVRFKVwiLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSAge251bWJlcn0geDEgICBUaGUgeCBwb3NpdGlvbiB0byBtb3ZlIHRvLlxyXG4gICAgICogQHBhcmFtICB7bnVtYmVyfSB5MSAgIFRoZSB5IHBvc2l0aW9uIHRvIG1vdmUgdG8uXHJcbiAgICAgKiBAcGFyYW0gIHtudW1iZXJ9IHgyICAgVGhlIHggcG9zaXRpb24gdG8gbW92ZSB0by5cclxuICAgICAqIEBwYXJhbSAge251bWJlcn0geTIgICBUaGUgeSBwb3NpdGlvbiB0byBtb3ZlIHRvLlxyXG4gICAgICogQHBhcmFtICB7bnVtYmVyfSBlbmRYIFRoZSB4IHBvc2l0aW9uIHRvIG1vdmUgdG8uXHJcbiAgICAgKiBAcGFyYW0gIHtudW1iZXJ9IGVuZFkgVGhlIHkgcG9zaXRpb24gdG8gbW92ZSB0by5cclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJuIHtQYXRofSAgICAgICAgVGhlIG1vZGlmaWVkIFBhdGguXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBDIChcclxuICAgICAgICB4MTogbnVtYmVyLCB5MTogbnVtYmVyLFxyXG4gICAgICAgIHgyOiBudW1iZXIsIHkyOiBudW1iZXIsXHJcbiAgICAgICAgZW5kWDogbnVtYmVyLCBlbmRZOiBudW1iZXJcclxuICAgICk6IFBhdGgge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmN1cnZlVG8oeDEsIHkxLCB4MiwgeTIsIGVuZFgsIGVuZFksIEFCU09MVVRFKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIERyYXdzIGEgcXVhZHJhdGljIGN1cnZlIGZyb20gY3VycmVudCBwb3NpdGlvbiB0byAoW2VuZFhdLCBbZW5kWV0pLFxyXG4gICAgICogdXNpbmcgKFt4MV0sIFt5MV0pIGFzIHRoZSBjb250cm9sIHBvaW50IGZvciB0aGUgQmV6aWVyIGVxdWF0aW9uLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSAge251bWJlcn0gICAgIHgxICAgVGhlIHggcG9zaXRpb24gdG8gbW92ZSB0by5cclxuICAgICAqIEBwYXJhbSAge251bWJlcn0gICAgIHkxICAgVGhlIHkgcG9zaXRpb24gdG8gbW92ZSB0by5cclxuICAgICAqIEBwYXJhbSAge251bWJlcn0gICAgIGVuZFggVGhlIHggcG9zaXRpb24gdG8gbW92ZSB0by5cclxuICAgICAqIEBwYXJhbSAge251bWJlcn0gICAgIGVuZFkgVGhlIHkgcG9zaXRpb24gdG8gbW92ZSB0by5cclxuICAgICAqIEBwYXJhbSAge2Jvb2xlYW4gPSAgICB0aGlzLnJlbGF0aXZlfSByZWxhdGl2ZSBDb250cm9scyBSRUxBVElWRSBvciBBQlNPTFVURSBtb2RlLlxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm4ge1BhdGh9ICAgICAgICAgICAgVGhlIG1vZGlmaWVkIFBhdGguXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBxdWFkQ3VydmVUbyAoXHJcbiAgICAgICAgeDE6IG51bWJlciwgeTE6IG51bWJlcixcclxuICAgICAgICBlbmRYOiBudW1iZXIsIGVuZFk6IG51bWJlcixcclxuICAgICAgICByZWxhdGl2ZTogYm9vbGVhbiA9IHRoaXMucmVsYXRpdmVcclxuICAgICk6IFBhdGgge1xyXG4gICAgICAgIHRoaXMuYWRkQ29tbWFuZChcInFcIiwgYCR7eDF9LCR7eTF9ICR7ZW5kWH0sJHtlbmRZfWAsIHJlbGF0aXZlKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBBIHNob3J0IGNvbW1hbmQgZm9yIFwicXVhZEN1cnZlVG8oW2R4MV0sIFtkeTFdLCBbZW5kRFhdLCBbZW5kRFldLFxyXG4gICAgICogUkVMQVRJVkUpXCIuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtICB7bnVtYmVyfSBkeDEgICBIb3cgZmFyIHRvIG1vdmUgb24gdGhlIHgtYXhpcy5cclxuICAgICAqIEBwYXJhbSAge251bWJlcn0gZHkyICAgSG93IGZhciB0byBtb3ZlIG9uIHRoZSB5LWF4aXMuXHJcbiAgICAgKiBAcGFyYW0gIHtudW1iZXJ9IGVuZERYIEhvdyBmYXIgdG8gbW92ZSBvbiB0aGUgeC1heGlzLlxyXG4gICAgICogQHBhcmFtICB7bnVtYmVyfSBlbmREWSBIb3cgZmFyIHRvIG1vdmUgb24gdGhlIHktYXhpcy5cclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJuIHtQYXRofSAgICAgICAgIFRoZSBtb2RpZmllZCBQYXRoLlxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgcSAoXHJcbiAgICAgICAgZHgxOiBudW1iZXIsIGR5MjogbnVtYmVyLFxyXG4gICAgICAgIGVuZERYOiBudW1iZXIsIGVuZERZOiBudW1iZXJcclxuICAgICk6IFBhdGgge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnF1YWRDdXJ2ZVRvKGR4MSwgZHkyLCBlbmREWCwgZW5kRFksIFJFTEFUSVZFKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEEgc2hvcnQgY29tbWFuZCBmb3IgXCJxdWFkQ3VydmVUbyhbeDFdLCBbeDJdLCBbZW5kWF0sIFtlbmRZXSwgQUJTT0xVVEUpXCIuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtICB7bnVtYmVyfSB4MSAgIFRoZSB4IHBvc2l0aW9uIHRvIG1vdmUgdG8uXHJcbiAgICAgKiBAcGFyYW0gIHtudW1iZXJ9IHkxICAgVGhlIHkgcG9zaXRpb24gdG8gbW92ZSB0by5cclxuICAgICAqIEBwYXJhbSAge251bWJlcn0gZW5kWCBUaGUgeCBwb3NpdGlvbiB0byBtb3ZlIHRvLlxyXG4gICAgICogQHBhcmFtICB7bnVtYmVyfSBlbmRZIFRoZSB5IHBvc2l0aW9uIHRvIG1vdmUgdG8uXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybiB7UGF0aH0gICAgICAgIFRoZSBtb2RpZmllZCBQYXRoLlxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgUSAoXHJcbiAgICAgICAgeDE6IG51bWJlciwgeTE6IG51bWJlcixcclxuICAgICAgICBlbmRYOiBudW1iZXIsIGVuZFk6IG51bWJlclxyXG4gICAgKTogUGF0aCB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucXVhZEN1cnZlVG8oeDEsIHkxLCBlbmRYLCBlbmRZLCBBQlNPTFVURSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBEcmF3cyBhIGN1YmljIGN1cnZlIGZyb20gdGhlIGN1cnJlbnQgcG9zaXRpb24gdG8gKFt4XSwgW3ldKS4gSWZcclxuICAgICAqIHJlbGF0aXZlIGlzIHRydWUgKFJFTEFUSVZFKSwgW3hdIGFuZCBbeV0gYmVjb21lIG9mZnNldHMgZnJvbSB0aGVcclxuICAgICAqIGN1cnJuZXQgcG9zaXRpb24gaW5zdGVhZCBvZiBhYnNvbHV0ZSBwb3NpdGlvbnMuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtICB7bnVtYmVyfSAgICAgeCBUaGUgeCBwb3NpdGlvbiB0byBtb3ZlIHRvLlxyXG4gICAgICogQHBhcmFtICB7bnVtYmVyfSAgICAgeSBUaGUgeSBwb3NpdGlvbiB0byBtb3ZlIHRvLlxyXG4gICAgICogQHBhcmFtICB7Ym9vbGVhbiA9IHRoaXMucmVsYXRpdmV9IHJlbGF0aXZlIENvbnRyb2xzIFJFTEFUSVZFIG9yIEFCU09MVVRFIG1vZGUuXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybiB7UGF0aH0gICAgICAgICBUaGUgbW9kaWZpZWQgUGF0aC5cclxuICAgICAqL1xyXG4gICAgcHVibGljIGN1YmljQ3VydmVUbyAoXHJcbiAgICAgICAgeDogbnVtYmVyLCB5OiBudW1iZXIsXHJcbiAgICAgICAgcmVsYXRpdmU6IGJvb2xlYW4gPSB0aGlzLnJlbGF0aXZlXHJcbiAgICApOiBQYXRoIHtcclxuICAgICAgICB0aGlzLmFkZENvbW1hbmQoXCJ0XCIsIGAke3h9LCR7eX1gLCByZWxhdGl2ZSk7XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQSBzaG9ydCBjb21tYW5kIGZvciBcImN1YmljQ3VydmVUbyhbZHhdLCBbZHldLCBSRUxBVElWRSlcIi5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gIHtudW1iZXJ9IGR4IEhvdyBmYXIgb24gdGhlIHgtYXhpcyB0byBtb3ZlLlxyXG4gICAgICogQHBhcmFtICB7bnVtYmVyfSBkeSBIb3cgZmFyIG9uIHRoZSB5LWF4aXMgdG8gbW92ZS5cclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJuIHtQYXRofSAgICAgIFRoZSBtb2RpZmVkIFBhdGguXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyB0IChkeDogbnVtYmVyLCBkeTogbnVtYmVyKTogUGF0aCB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY3ViaWNDdXJ2ZVRvKGR4LCBkeSwgUkVMQVRJVkUpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQSBzaG9ydCBjb21tYW5kIGZvciBcImN1YmljQ3VydmVUbyhbeF0sIFt5XSwgQUJPU0xVVEUpXCIuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtICB7bnVtYmVyfSB4IFRoZSB4IGNvb3JkaW5hdGUgdG8gZHJhdyB0by5cclxuICAgICAqIEBwYXJhbSAge251bWJlcn0geSBUaGUgeCBjb29yZGluYXRlIHRvIGRyYXcgdG8uXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybiB7UGF0aH0gICAgIFRoZSBtb2RpZmllZCBQYXRoLlxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgVCAoeDogbnVtYmVyLCB5OiBudW1iZXIpOiBQYXRoIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jdWJpY0N1cnZlVG8oeCwgeSwgQUJTT0xVVEUpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQWRkcyB0aGUgY2xvc2UgcGF0aCBjb21tYW5kIHRvIHRoZSBlbmQgb2YgdGhlIGNvbW1hbmQgbGlzdC5cclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJuIHtQYXRofSBUaGUgbW9kaWZpZWQgUGF0aC5cclxuICAgICAqL1xyXG4gICAgcHVibGljIGNsb3NlICgpOiBQYXRoIHtcclxuICAgICAgICB0aGlzLmFkZENvbW1hbmQoXCJaXCIsIG51bGwsIGZhbHNlKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBBIHNob3J0IGNvbW1hbmQgZm9yIFwiY2xvc2UoKVwiLlxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm4ge1BhdGh9IFRoZSBtb2RpZmllZCBQYXRoLlxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgWiAoKTogUGF0aCB7IHJldHVybiB0aGlzLmNsb3NlKCk7IH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFNldHMgdGhlIFtmaWxsQ29sb3JdIGZvciB0aGUgUGF0aC5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gIHtzdHJpbmd9IGZpbGxDb2xvciBUaGUgY29sb3Igc3RyaW5nIGZvciB0aGUgZmlsbCBvZiB0aGUgU1ZHLlxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm4ge1BhdGh9ICAgICAgICAgICAgIFRoZSBtb2RpZmllZCBQYXRoLlxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc2V0RmlsbCAoZmlsbENvbG9yOiBzdHJpbmcpOiBQYXRoIHtcclxuICAgICAgICB0aGlzLmZpbGxDb2xvciA9IGZpbGxDb2xvcjtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXQncyB0aGUgW3N0cm9rZUNvbG9yXSBhbmQgW3N0cm9rZVdpZHRoXSBvZiB0aGUgUGF0aCB0byB0aG9zZVxyXG4gICAgICogc3BlY2lmaWVkLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSAge3N0cmluZ30gICAgc3Ryb2tlQ29sb3IgVGhlIGNvbG9yIHN0cmluZyBmb3IgdGhlIHN0cm9rZS5cclxuICAgICAqIEBwYXJhbSAge251bWJlciA9IHRoaXMuc3Ryb2tlV2lkdGh9IHN0cm9rZVdpZHRoIFRoZSB3aWRodCBvZiB0aGUgc3Ryb2tlLlxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm4ge1BhdGh9ICAgICAgICAgICAgICAgICAgVGhpcyBtb2RpZmllZCBQYXRoLlxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc2V0U3Ryb2tlIChcclxuICAgICAgICBzdHJva2VDb2xvcjogc3RyaW5nLFxyXG4gICAgICAgIHN0cm9rZVdpZHRoOiBudW1iZXIgPSB0aGlzLnN0cm9rZVdpZHRoXHJcbiAgICApOiBQYXRoIHtcclxuICAgICAgICB0aGlzLnN0cm9rZUNvbG9yID0gc3Ryb2tlQ29sb3I7XHJcbiAgICAgICAgdGhpcy5zdHJva2VXaWR0aCA9IHN0cm9rZVdpZHRoO1xyXG5cclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFNldCdzIHRoZSBbc3Ryb2tlV2lkdGhdIHRvIHRoZSB2YWx1ZSBnaXZlbi5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gIHtudW1iZXJ9IHN0cm9rZVdpZHRoIFRoZSBzdHJva2Ugd2lkdGggdmFsdWUuXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybiB7UGF0aH0gICAgICAgICAgICAgICBUaGUgbW9kaWZpZWQgUGF0aC5cclxuICAgICAqL1xyXG4gICAgcHVibGljIHNldFN0cm9rZVdpZHRoIChzdHJva2VXaWR0aDogbnVtYmVyKTogUGF0aCB7XHJcbiAgICAgICAgdGhpcy5zdHJva2VXaWR0aCA9IHN0cm9rZVdpZHRoO1xyXG5cclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEFkZHMgdGhlIGdpdmVuIFtjbWRdLCB3aXRoIGl0J3MgYXJndW1lbnQgc3RyaW5nIChbYXJnc10pLCB0byB0aGUgbGlzdFxyXG4gICAgICogb2YgY29tbWFuZHMgdGhhdCBjb21wb3NlIHRoZSBQYXRoLiBUaGUgcmVsYXRpdmUgZmxhZyBjb250cm9scyB0aGVcclxuICAgICAqIGNhc2luZyBvZiB0aGUgY29tbWFuZCBsZXR0ZXIuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9ICBjbWQgICAgICBUaGUgY29tbWFuZCBsZXR0ZXIgdG8gYWRkLlxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9ICBhcmdzICAgICBUaGUgYXJndW1lbnRzIHRvIGFkZC5cclxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gcmVsYXRpdmUgV2hldGhlciBvciBub3QgdGhlIGNvbW1hbmQgaXMgcmVsYXRpdmUuXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgYWRkQ29tbWFuZCAoY21kOiBzdHJpbmcsIGFyZ3M6IHN0cmluZywgcmVsYXRpdmU6IGJvb2xlYW4pOiB2b2lkIHtcclxuICAgICAgICBpZiAoIXJlbGF0aXZlKVxyXG4gICAgICAgICAgICBjbWQgPSBjbWQudG9VcHBlckNhc2UoKTtcclxuXHJcbiAgICAgICAgaWYgKGFyZ3MgIT0gbnVsbClcclxuICAgICAgICAgICAgdGhpcy5wYXRoU3RyaW5nICs9IGAke2NtZH0gJHthcmdzfSBgO1xyXG4gICAgICAgIGVsc2VcclxuICAgICAgICAgICAgdGhpcy5wYXRoU3RyaW5nICs9IGNtZDtcclxuICAgIH1cclxufSIsIi8vIEBmaWxlIFNWRy50c1xyXG4vLyBAYXV0aG9yIEpvc2VwaCBSIE1pbGVzIDxtZUBqb3NlcGhybWlsZXMuY29tPlxyXG4vLyBAZGF0ZSAyMDE5LTEwLTE5XHJcbi8vXHJcbi8vIFRoaXMgZGVjbGFyZXMgb3VyIFNWRyBjbGFzcyB0aGF0IHJlcHJlc2VudHMgYW4gU1ZHIGltYWdlIHJlbmRlcmFibGUgb24gdGhlXHJcbi8vIERPTS5cclxuXHJcbmltcG9ydCB7IElTVkdFbGVtZW50IH0gZnJvbSBcIi4vSVNWR0VsZW1lbnRcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBTVkcge1xyXG5cclxuICAgIC8qKiBAdHlwZSB7c3RyaW5nfSBUaGUgc2VsZWN0b3IgdXNlZCB0byBmaW5kIHRoZSBTVkcgY2FudmFzIGluIHRoZSBET00gKi9cclxuICAgIHByaXZhdGUgc2VsZWN0b3I6IHN0cmluZyA9IFwiXCI7XHJcblxyXG4gICAgLyoqIEB0eXBlIHtJU1ZHRWxlbWVudFtdfSBUaGUgZWxlbWVudHMgdG8gcHV0IGluc2lkZSB0aGUgU1ZHIGNhbnZhcy4gKi9cclxuICAgIHByaXZhdGUgZWxlbWVudHM6IElTVkdFbGVtZW50W10gPSBbXTtcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGVzIGEgbmV3IFNWRyBpbnN0YW5jZSB0aGF0IHVzZXMgdGhlIGdpdmVuIFtzZWxlY3Rvcl0gYW5kXHJcbiAgICAgKiBbZWxlbWVudHNdLiBCeSBkZWZhdWx0LCB0aGUgW3NlbGVjdG9yXSB0YXJnZXRzIGFueSA8c3ZnPnMgcHJlc2VudCBpblxyXG4gICAgICogdGhlIGRvY3VtZW50LCBhbmQgdGhlIFtlbGVtZW50c10gYXJyYXkgc3RhcnRzIGFzIGVtcHR5LlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSAge3N0cmluZyAgICAgICA9IFwiXCJ9ICAgICAgICAgIHNlbGVjdG9yIEEgRE9NIHNlbGVjdG9yXHJcbiAgICAgKiBAcGFyYW0gIHtJU1ZHRWxlbWVudFtdID0gW119ICAgICAgICAgZWxlbWVudHMgQW4gYXJyYXkgb2YgSVNWR0VsZW1lbnRzLlxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm4ge1NWR30gICAgICAgICAgICAgICBBIG5ldyBTVkcgaW5zdGFuY2UuXHJcbiAgICAgKi9cclxuICAgIGNvbnN0cnVjdG9yIChzZWxlY3Rvcjogc3RyaW5nID0gXCJcIiwgZWxlbWVudHM6IElTVkdFbGVtZW50W10gPSBbXSkge1xyXG4gICAgICAgIHRoaXMuc2VsZWN0b3IgPSBzZWxlY3RvcjtcclxuICAgICAgICB0aGlzLmVsZW1lbnRzID0gZWxlbWVudHM7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBBZGRzIHRoZSBnaXZlbiBbZWxlbWVudF0gdG8gdGhlIFNWRydzIGVsZW1lbnRzIGFycmF5LlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSAge0lTVkdFbGVtZW50fSBlbGVtZW50IEFuIFNWR0VsZW1lbnQuXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybiB7U1ZHfSAgICAgICAgICAgICAgICBUaGUgbW9kaWZpZWQgU1ZHIGluc3RhbmNlLlxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgYWRkIChlbGVtZW50OiBJU1ZHRWxlbWVudCk6IFNWRyB7XHJcbiAgICAgICAgdGhpcy5lbGVtZW50cy5wdXNoKGVsZW1lbnQpO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUHVibGlzaGVzIHRoZSBlbGVtZW50cyBjb250YWluZCBpbiB0aGUgU1ZHIGluc3RhbmNlIHRvIHRoZSBmaXJzdFxyXG4gICAgICogZWxlbWVudCBtYXRjaGluZyB0aGUgU1ZHIGluc3RhbmNlJ3Mgc2VsZWN0b3IuIEJFIFdBUk5FRCwgVEhJUyBET0VTXHJcbiAgICAgKiBOT1QgVkFMSURBVEUgVEhBVCBzdmcgSVMgQSBTVkcgRE9NIEVMRU1FTlQhXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyByZW5kZXIgKCk6IHZvaWQge1xyXG4gICAgICAgIGNvbnN0IHN2ZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5zZWxlY3RvcilbMF07XHJcblxyXG4gICAgICAgIHRoaXMuZWxlbWVudHMuZm9yRWFjaCgoZWxlbTogSVNWR0VsZW1lbnQpID0+IHN2Zy5hcHBlbmRDaGlsZChlbGVtLnRvWE1MKCkpKTtcclxuICAgIH1cclxufSIsIi8vIEBmaWxlIFRleHQudHNcclxuLy8gQGF1dGhvciBKb3NlcGggUiBNaWxlcyA8bWVAam9zZXBocm1pbGVzLmNvbT5cclxuLy8gQGRhdGUgMjAxOS0xMC0xOVxyXG4vL1xyXG4vLyBUaGlzIGZpbGUgZGVjbGFyZXMgb3VyIFRleHQgY2xhc3MsIHVzZWQgdG8gcmVwcmVzZW50IHRoZSB0ZXh0IFNWRyBlbGVtZW50LlxyXG5cclxuaW1wb3J0IHsgSVNWR0VsZW1lbnQgfSBmcm9tIFwiLi9JU1ZHRUxlbWVudFwiO1xyXG5pbXBvcnQgeyBUZXh0Rm9udFByb3BlcnRpZXMgfSBmcm9tIFwiLi9UZXh0Rm9udFByb3BlcnRpZXNcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBUZXh0IGltcGxlbWVudHMgSVNWR0VsZW1lbnQge1xyXG5cclxuICAgIC8qKiBAdHlwZSB7c3RyaW5nfSBUaGUgYm9keSBvZiB0aGUgdGV4dCBlbGVtZW50LiAqL1xyXG4gICAgcHJpdmF0ZSBib2R5OiBzdHJpbmcgPSBcIlwiO1xyXG5cclxuICAgIC8qKiBAdHlwZSB7bnVtYmVyfSBUaGUgeCBwb3NpdGlvbiBvZiB0aGUgdGV4dCBlbGVtZW50LiAqL1xyXG4gICAgcHJpdmF0ZSB4OiBudW1iZXIgPSAwO1xyXG5cclxuICAgIC8qKiBAdHlwZSB7bnVtYmVyfSBUaGUgeSBwb3NpdGlvbiBvZiB0aGUgdGV4dCBlbGVtZW50LiAqL1xyXG4gICAgcHJpdmF0ZSB5OiBudW1iZXIgPSAwO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogVGhlIHBvc2l0aW9uIG9mIHRoZSB0ZXh0IGFuY2hvciB3L3IgdG8gdGhlIHRleHQgYm9keSBhbmQgdGhlIGJhc2VsaW5lLlxyXG4gICAgICogVGhpcyBjYW5ub3QgY29udHJvbCB0aGUgeSBwb3NpdGlvbiBvZiB0aGUgdGV4dCBhbmNob3IsIG9ubHkgdGhlIHhcclxuICAgICAqIHBvc2l0aW9uLlxyXG4gICAgICpcclxuICAgICAqIEB0eXBlIHtzdHJpbmd9XHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgdGV4dEFuY2hvcjogc3RyaW5nID0gXCJcIjtcclxuXHJcbiAgICAvKiogQHR5cGUge1RleHRGb250UHJvcGVydGllc30gVGhlIGZvbnQgcHJvcGVyaXRlcyBvZiB0aGUgdGV4dCBvYmplY3QuICovXHJcbiAgICBwcml2YXRlIGZvbnRQcm9wZXJ0aWVzOiBUZXh0Rm9udFByb3BlcnRpZXMgPSBuZXcgVGV4dEZvbnRQcm9wZXJ0aWVzKCk7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGVzIGEgVGV4dCBpbnN0YW5jZSB0aGF0IGhhcyB0aGUgZ2l2ZW4gW2JvZHldLCBbeF0sIFt5XSwgYW5kXHJcbiAgICAgKiBbZm9udHNdIGZhbWlsaWVzLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSAge3N0cmluZ30gICAgICBib2R5IFRoZSBib2R5IG9mIHRoZSBUZXh0IG9iamVjdC5cclxuICAgICAqIEBwYXJhbSAge251bWJlcn0gICAgICB4ICAgIFRoZSB4IG9mIHRoZSBUZXh0IG9iamVjdC5cclxuICAgICAqIEBwYXJhbSAge251bWJlcn0gICAgICB5ICAgIFRoZSB5IG9mIHRoZSBUZXh0IG9iamVjdC5cclxuICAgICAqIEBwYXJhbSAge3N0cmluZ1tdID0gICAgbnVsbH0gICAgICAgIGZvbnRzIFRoZSBmb250IGZhbWlsaWVzIHRvIHVzZS5cclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJuIHtUZXh0fSAgICAgICAgICAgICBBIG5ld2x5IGNyZWF0ZWQgVGV4dC5cclxuICAgICAqL1xyXG4gICAgY29uc3RydWN0b3IgKFxyXG4gICAgICAgIGJvZHk6IHN0cmluZyxcclxuICAgICAgICB4OiBudW1iZXIsXHJcbiAgICAgICAgeTogbnVtYmVyLFxyXG4gICAgICAgIGZvbnRzOiBzdHJpbmdbXSA9IG51bGxcclxuICAgICkge1xyXG4gICAgICAgIHRoaXMuYm9keSA9IGJvZHk7XHJcbiAgICAgICAgdGhpcy54ID0geDtcclxuICAgICAgICB0aGlzLnkgPSB5O1xyXG5cclxuICAgICAgICB0aGlzLmZvbnRQcm9wZXJ0aWVzLmZhbWlseSA9IGZvbnRzO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogVGFrZXMgdGhlIGluZm9ybWF0aW9uIGZyb20gdGhlIFRleHQgb2JqZWN0IGFuZCBnZW5lcmF0ZXMgYW4gRWxlbWVudFxyXG4gICAgICogdGhhdCBjYW4gYmUgYWRkZWQgdG8gdGhlIFNWRyBhbmQgcmVuZGVyZWQgYnkgdGhlIGJyb3dzZXIuXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybiB7RWxlbWVudH0gQSBuZXdseSBjcmVhdGVkIEVsZW1lbnQuXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyB0b1hNTCAoKTogRWxlbWVudCB7XHJcbiAgICAgICAgY29uc3QgZWxlbWVudDogRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInRleHRcIik7XHJcblxyXG4gICAgICAgIGVsZW1lbnQuaW5uZXJIVE1MID0gdGhpcy5ib2R5O1xyXG4gICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKFwieFwiLCB0aGlzLngudG9TdHJpbmcoKSk7XHJcbiAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJ5XCIsIHRoaXMueS50b1N0cmluZygpKTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuZm9udFByb3BlcnRpZXMuZmFtaWx5KVxyXG4gICAgICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZShcImZvbnQtZmFtaWx5XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZm9udFByb3BlcnRpZXMuZmFtaWx5LmpvaW4oXCIsXCIpKTtcclxuXHJcbiAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJmb250LXNpemVcIiwgdGhpcy5mb250UHJvcGVydGllcy5zaXplKTtcclxuICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZShcImZpbGxcIiwgdGhpcy5mb250UHJvcGVydGllcy5jb2xvcik7XHJcbiAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJmb250LXdlaWdodFwiLCB0aGlzLmZvbnRQcm9wZXJ0aWVzLndlaWdodCk7XHJcbiAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJ0ZXh0LWFuY2hvclwiLCB0aGlzLnRleHRBbmNob3IpO1xyXG5cclxuICAgICAgICByZXR1cm4gZWxlbWVudDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFNldHMgdGhlIFtib2R5XSB0ZXh0IG9mIHRoZSBUZXh0IG9iamVjdCB0byB0aGUgZ2l2ZW4gW2JvZHldIHRleHQuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtICB7c3RyaW5nfSBib2R5IFRoZSBuZXcgYm9keSBvZiB0aGUgVGV4dCBvYmplY3QuXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybiB7VGV4dH0gICAgICAgIFRoZSBtb2RpZmllZCBUZXh0IG9iamVjdC5cclxuICAgICAqL1xyXG4gICAgcHVibGljIHNldEJvZHkgKGJvZHk6IHN0cmluZyk6IFRleHQge1xyXG4gICAgICAgIHRoaXMuYm9keSA9IGJvZHk7XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogU2V0cyB0aGUgcG9zaXRpb24gb2YgdGhlIHRleHQgb2JqZWN0IHRvIHRoZSBbeF0gYW5kIFt5XSBwb3NpdGlvbnNcclxuICAgICAqIGdpdmVuLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSAge251bWJlcn0geCBUaGUgeCBwb3NpdGlvbiB0byBtb3ZlIHRvLlxyXG4gICAgICogQHBhcmFtICB7bnVtYmVyfSB5IFRoZSB5IHBvc2l0aW9uIHRvIG1vdmUgdG8uXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybiB7VGV4dH0gICAgIFRoZSBtb2RpZmllZCBUZXh0IG9iamVjdC5cclxuICAgICAqL1xyXG4gICAgcHVibGljIHNldFBvc2l0aW9uICh4OiBudW1iZXIsIHk6IG51bWJlcik6IFRleHQge1xyXG4gICAgICAgIHRoaXMueCA9IHg7XHJcbiAgICAgICAgdGhpcy55ID0geTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXQncyB0aGUgZm9udCBmYW1pbGllcyBvZiB0aGUgVGV4dCBvYmplY3QgdG8gdGhhdCBvZiB0aGUgZmFtaWxpZXNcclxuICAgICAqIGdpdmVuIGluIFtmb250c10uXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtICB7c3RyaW5nW119IGZvbnRzIEEgbGlzdCBvZiBmb250IGZhbWlseSBuYW1lcy5cclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJuIHtUZXh0fSAgICAgICAgICAgVGhlIG1vZGlmaWVkIFRleHQgb2JqZWN0LlxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc2V0Rm9udHMgKGZvbnRzOiBzdHJpbmdbXSk6IFRleHQge1xyXG4gICAgICAgIHRoaXMuZm9udFByb3BlcnRpZXMuZmFtaWx5ID0gZm9udHM7XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogU2V0cyB0aGUgW2NvbG9yXSBhdHRyaWJ1dGUgb2YgdGhlIFRleHQgb2JqZWN0J3MgZm9udC5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gIHtzdHJpbmd9IGNvbG9yIFRoZSBjb2xvciB0byBzZXQgdGhlIFRleHQgdG8uXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybiB7VGV4dH0gICAgICAgICBUaGUgbW9kaWZpZWQgVGV4dCBvYmplY3QuXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBzZXRDb2xvciAoY29sb3I6IHN0cmluZyk6IFRleHQge1xyXG4gICAgICAgIHRoaXMuZm9udFByb3BlcnRpZXMuY29sb3IgPSBjb2xvcjtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXRzIHRoZSBbc2l6ZV0gYXR0cmlidXRlIG9mIHRoZSBUZXh0IG9iamVjdCdzIGZvbnQuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtICB7KHN0cmluZyB8IG51bWJlcil9ICAgICBzaXplIFRoZSBzaXplIHRvIHNldCB0aGUgVGV4dCB0by5cclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJuIHtUZXh0fSAgICAgICAgIFRoZSBtb2RpZmllZCBUZXh0IG9iamVjdC5cclxuICAgICAqL1xyXG4gICAgcHVibGljIHNldFNpemUgKHNpemU6IChzdHJpbmcgfCBudW1iZXIpKTogVGV4dCB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBzaXplID09PSBcIm51bWJlclwiKVxyXG4gICAgICAgICAgICB0aGlzLmZvbnRQcm9wZXJ0aWVzLnNpemUgPSBzaXplLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICB0aGlzLmZvbnRQcm9wZXJ0aWVzLnNpemUgPSBzaXplO1xyXG5cclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFNldHMgdGhlIGZvbnQgW3dlaWdodF0gYXR0cmlidXRlIG9mIHRoZSBUZXh0IG9iamVjdCdzIGZvbnQuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtICB7KHN0cmluZyB8IG51bWJlcil9ICAgICB3ZWlnaHQgVGhlIHdlaWdodCB0byBzZXQgdGhlIFRleHQgdG8uXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybiB7VGV4dH0gICAgICAgICBUaGUgbW9kaWZpZWQgVGV4dCBvYmplY3QuXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBzZXRXZWlnaHQgKHdlaWdodDogKHN0cmluZyB8IG51bWJlcikpOiBUZXh0IHtcclxuICAgICAgICBpZiAodHlwZW9mIHdlaWdodCA9PT0gXCJudW1iZXJcIilcclxuICAgICAgICAgICAgdGhpcy5mb250UHJvcGVydGllcy53ZWlnaHQgPSB3ZWlnaHQudG9TdHJpbmcoKTtcclxuICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgIHRoaXMuZm9udFByb3BlcnRpZXMud2VpZ2h0ID0gd2VpZ2h0O1xyXG5cclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFNldHMgdGhlIHRleHQgYW5jaG9yIFtwb3NpdGlvbl0gb2YgdGhlIFRleHQgb2JqZWN0LlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSAge3N0cmluZ30gcG9zaXRpb24gQSB0ZXh0IGFuY2hvciBwb3NpdGlvbiBlbnVtIHZhbHVlLlxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm4ge1RleHR9ICAgICAgICAgICAgVGhlIG1vZGlmaWVkIFRleHQgb2JqZWN0LlxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc2V0QW5jaG9yIChwb3NpdGlvbjogc3RyaW5nKTogVGV4dCB7XHJcbiAgICAgICAgdGhpcy50ZXh0QW5jaG9yID0gcG9zaXRpb247XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG59XHJcbiIsIi8vIEBmaWxlIFRleHRGb250UHJvcGVydGllcy50c1xyXG4vLyBAYXV0aG9yIEpvc2VwaCBSIE1pbGVzIDxtZUBqb3NlcGhybWlsZXMuY29tPlxyXG4vLyBAZGF0ZSAyMDE5LTEwLTE5XHJcbi8vXHJcbi8vIFRoaXMgZmlsZSBkZWNsYXJlcyBvdXIgVGV4dEZvbnRQcm9wZXJ0aWVzIGNsYXNzLCB3aGljaCBpcyB1c2VkIHRvIGVuY2Fwc3VsYXRlXHJcbi8vIGFsbCB0aGUgZm9udCBzZXR0aW5ncyB3ZSBjb3VsZCBwb3NzaWJseSB3YW50IGluIGEgVGV4dCBvYmplY3QuXHJcblxyXG5leHBvcnQgY2xhc3MgVGV4dEZvbnRQcm9wZXJ0aWVzIHtcclxuICAgIHB1YmxpYyBmYW1pbHk6IHN0cmluZ1tdID0gW107XHJcbiAgICBwdWJsaWMgY29sb3I6IHN0cmluZyA9IFwiXCI7XHJcbiAgICBwdWJsaWMgc2l6ZTogc3RyaW5nID0gXCJcIjtcclxuICAgIHB1YmxpYyB3ZWlnaHQ6IHN0cmluZyA9IFwibm9ybWFsXCI7XHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ==